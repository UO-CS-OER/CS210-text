

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Introduction to Computer Science I</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'intro';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="#">
  
  
  
  
    
    
      
    
    
    <img src="_static/logo-provisional.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/logo-provisional.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1 current active">
                <a class="reference internal" href="#">
                    Introduction to Computer Science, part 1
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">01 Getting a Start</span></p>
<ul class="nav bd-sidenav">



</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">02 Writing Functions</span></p>
<ul class="nav bd-sidenav">




</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">03 Collections and Loops</span></p>
<ul class="nav bd-sidenav">

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">04 More Loops and Collections</span></p>
<ul class="nav bd-sidenav">




</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">05 Recursion</span></p>
<ul class="nav bd-sidenav">

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">06 Binding and Scope</span></p>
<ul class="nav bd-sidenav">




</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">07 Efficiency</span></p>
<ul class="nav bd-sidenav">


</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/UO-CS-OER/CS210-text" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/UO-CS-OER/CS210-text/issues/new?title=Issue%20on%20page%20%2Fintro.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Introduction to Computer Science, part 1</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <p aria-level="2" class="caption" role="heading"><span class="caption-text">01 Getting a Start</span></p>
<ul class="visible nav section-nav flex-column">
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-01-Intro/01-01-Prospectus">A Course in Computational Thinking</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-01-Intro/01-02-Install">Installing Python and IDLE</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-01-Intro/01-03-Kickstart">Python Programming Kickstart</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">02 Writing Functions</span></p>
<ul class="nav section-nav flex-column">
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-02-Functions/02-01-Functions">Designing and Building Functions in Python</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-02-Functions/02-02-Scope">Binding:  Functions and Scope</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-02-Functions/02-03-Hygiene">Function Hygiene in Python</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-02-Functions/02-04-Terms">Review of terms</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">03 Collections and Loops</span></p>
<ul class="nav section-nav flex-column">
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-03-Collections-Loops/03-01-Collections">Collections and Loops</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">04 More Loops and Collections</span></p>
<ul class="nav section-nav flex-column">
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-04-More-Loops/04-01-More-Loops">Loops and more loops</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-04-More-Loops/04-02-Parallel-Lists">Parallel Lists</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-04-More-Loops/04-03-Indefinite-Loops">Indefinite loops</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-04-More-Loops/04-04-Successive-Approximation">Successive approximation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">05 Recursion</span></p>
<ul class="nav section-nav flex-column">
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-05-Recursion/05-01-Recursion">Recursive Functions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">06 Binding and Scope</span></p>
<ul class="nav section-nav flex-column">
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-06-Binding/06-01-Binding">Binding and scope</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-06-Binding/06-02-Alias">Aliasing</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-06-Binding/06-03-Scopes">Scopes</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-06-Binding/06-04-Binding-Recursion">Binding in Recursive Functions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">07 Efficiency</span></p>
<ul class="nav section-nav flex-column">
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-07-Efficiency/07-01-Efficiency">Efficiency</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-07-Efficiency/07-02-Binary-Search">Binary Search</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="introduction-to-computer-science-part-1">
<h1>Introduction to Computer Science, part 1<a class="headerlink" href="#introduction-to-computer-science-part-1" title="Permalink to this headline">#</a></h1>
<p>This open text in progress is designed for use in CS 210 at
University of Oregon and in CS 161 at other Oregon colleges and
universities.</p>
<p>Instructors and authors: You are welcome to use, borrow from, or
fork this text for your own customizations, under a permissive
open source license.  Instructions are in
<a class="reference external" href="https://github.com/UO-CS-OER/CS210-text">the github repository</a>.</p>
<div class="toctree-wrapper compound">
<span id="document-01-Intro/01-01-Prospectus"></span><section class="tex2jax_ignore mathjax_ignore" id="a-course-in-computational-thinking">
<h2>A Course in Computational Thinking<a class="headerlink" href="#a-course-in-computational-thinking" title="Permalink to this headline">#</a></h2>
<p><em>Introduction to Computer Science</em> is a foundational course in
computer science. It is a course in programming, but more than that,
it is a course in computational thinking.</p>
<p>What’s so special about <em>computational</em> thinking and problem solving?
Is it a branch of engineering, or math, or is it a science?
Computing certainly draws from all of those fields, and also
contributes to them, but in some ways it is unique.</p>
<p>Computing and computer science do not seek to characterize the
natural world, although many computer programs (e.g., environmental
models, computer aided design and numerical control) incorporate
models of the natural world. Computing is increasingly a core tool
used in the natural sciences, and computational thinking can be
useful to scientists, but core concerns of the natural sciences and
computing are distinct.</p>
<p>Some areas of computing (particularly usability and user interface
design, and software engineering) draw heavily from the social
sciences, especially psychology but also fields as diverse as
anthropology, linguistics, and economics. Despite some overlap,
though (e.g., economic game theory in the design of computer network
protocols, visual attention in user interface design), the core
concerns of computing are mostly distinct from the core concerns of
the social sciences.</p>
<p>Like mathematics, computing requires
rigorous reasoning about formal, abstract systems.
Some areas of computer science produce mathematical proofs, as you
will be required to do if you continue with computer science through
courses in data structures and algorithms.
However, computer scientists are more concerned than mathematicians
with the <em>things</em> their formal systems represent.</p>
<p>Like engineers, computer scientists and software developers
construct abstract
representations of <em>things</em> to
reason effectively about them.
There is an important difference in the kinds of <em>thing</em> that
computing produces, relative to conventional engineering.
The design of a bridge or an automobile is
complex and expensive, but the main expense of building a bridge is
in the physical construction, and not the design.
The cost of building cars at industrial scale is likewise much larger
than the cost of designing a car.</p>
<p>The <em>things</em> designed (but not constructed) by
software developers are <em>computations</em>.
The computations are
constructed by computers, following our designs.
Computations are weightless and cheap.<br />
The designs of those computations, which we call
<em>programs</em> or <em>software</em> or perhaps <em>software systems</em>, are complex
and expensive. Any part of the construction that can be fully
automated becomes cheap, but there always remains some part of the
design that is necessarily human, complex, and demanding.
Computing exposes the expense of design by removing the
limits of engineering physical things.</p>
<p>All these things that computing is <em>not</em> may shed some light on what
computing and computer science <em>are</em>. Computer science is concerned
with
<em>design</em> of computations, and like other design disciplines it
requires creative problem-solving. It requires forming and using
abstract, often mathematical models, without losing track of their
relation to concrete artifacts. It especially requires
careful control of complexity, decomposing problems into smaller
sub-problems and organizing them to maintain intellectual control.
Many disciplines incorporate these concerns to some extent, but they
are the very core of computing.</p>
<p>In tackling a core, rigorous course in computing, you should
certainly become a better programmer. But if skill in programming
is the only thing you gain from this course, then we have failed.
If you as a learner and we as your teachers are successful, a
rigorous course in computational thinking will make you a better and
more creative problem solver.</p>
<section id="learning-to-program">
<h3>Learning to Program<a class="headerlink" href="#learning-to-program" title="Permalink to this headline">#</a></h3>
<p>The principles and techniques
you will learn in <em>Introduction to Computer Science</em>
are not limited to a single programming
language, let alone a particular computer or operating system.
But we have to start somewhere. That <em>somewhere</em>
requires us to choose a programming language, and to
practice using it.</p>
<section id="why-python">
<h4>Why Python<a class="headerlink" href="#why-python" title="Permalink to this headline">#</a></h4>
<p>In this course we will use Python,
specifically Python version 3.10 or higher.
Python is widely used in data science and scientific
computing, in cartography, in web development,
in machine learning, and in many other domains, but
that is not why we have chosen it. We have chosen Python 3 because
we believe it is a good language for <em>learning to program</em>. Python
3 is</p>
<ul class="simple">
<li><p>Consistent. There are few “special cases” to remember in Python,
which makes it easier to remember how things work and to build on
what you know.</p></li>
<li><p>Concise. Python does not require a lot of boilerplate, which
makes it easier to read example code.</p></li>
<li><p>Well-provisioned. Although there are many extras that you <em>could</em>
add, a standard and straightforward installation of Python is
enough to build many interesting projects.</p></li>
</ul>
<p>That is not to say that Python is a perfect language. It is
certainly not the only programming language you will ever want or
need to learn. But among the programming langauges available to us
today, we believe it is an excellent starting point.</p>
</section>
</section>
<section id="getting-a-start">
<h3>Getting a Start<a class="headerlink" href="#getting-a-start" title="Permalink to this headline">#</a></h3>
<p>The pre-requisites for <em>Introduction to Computer Science</em> include
a basic familiarity with programming. That familiarity may
take many forms (not necessarily programming in Python). Also,
student knowledge from a course some time ago or from self study may
be rusty or incomplete.</p>
<p>If you have not programmed at all, but want to tackle this very
demanding course, we can recommend the
<a class="reference external" href="https://cscircles.cemc.uwaterloo.ca/">Computer Science Circles</a>
online lessons as a good and thorough introduction. Even if
you have programmed in Python before, you may find the CS Circles
materials valuable as a refresher.</p>
<p>The remaining sections of this chapter provide brief instructions
for installing Python 3 on the computer you will use for your
projects, and then <em>just enough</em> introduction to Python programming
to tackle an initial project.</p>
<ul class="simple">
<li><p><a class="reference internal" href="intro.html#document-01-Intro/01-02-Install"><span class="doc std std-doc">Install Python</span></a></p></li>
<li><p><a class="reference internal" href="intro.html#document-01-Intro/01-03-Kickstart"><span class="doc std std-doc">Python Programming Kickstart</span></a></p></li>
</ul>
</section>
</section>
<span id="document-01-Intro/01-02-Install"></span><section class="tex2jax_ignore mathjax_ignore" id="installing-python-and-idle">
<h2>Installing Python and IDLE<a class="headerlink" href="#installing-python-and-idle" title="Permalink to this headline">#</a></h2>
<p>This is a project-oriented course.  It is important that you have
Python version 3.10 or later installed on the computer you will most
often use for your class projects.   For most students that will be
a laptop computer or desktop computer.</p>
<section id="install-python-3-on-your-computer">
<h3>Install Python 3 on Your Computer<a class="headerlink" href="#install-python-3-on-your-computer" title="Permalink to this headline">#</a></h3>
<p>Python 3 runs well on a wide variety of computers.  You will
need a laptop or desktop computer; tablets and phones will not be a
good environment for learning to program in Python.  The precise
steps for installing Python 3, as well as the precise commands for
starting Python programming tools, necessarily varies depending on
whether you are using Linux, MacOS, or Windows.   We will cover
the basics first in a generic manner, then provide some detailed
notes for the most common platforms.</p>
<section id="download-and-install">
<h4>Download and Install<a class="headerlink" href="#download-and-install" title="Permalink to this headline">#</a></h4>
<p>Start by visiting <code class="docutils literal notranslate"><span class="pre">python.org</span></code> with your web browser.</p>
<p><img alt="Visit Python.org" src="_images/python-org.png" /></p>
<p>Select <code class="docutils literal notranslate"><span class="pre">Downloads</span></code> and choose the installer or archive for your
computer.  Typically you will want the download labeled as “Latest
Python 3 Release” for MacOS or Windows.  If you are a Linux user,
select “Source code”.  Then follow directions for your particular
platform.</p>
</section>
<section id="macos-install">
<h4>MacOS Install<a class="headerlink" href="#macos-install" title="Permalink to this headline">#</a></h4>
<p>The MacOS installer will work like other MacOS application
installers. You should not have to do anything extra.</p>
</section>
<section id="windows-10-install">
<h4>Windows 10 Install<a class="headerlink" href="#windows-10-install" title="Permalink to this headline">#</a></h4>
<p>Press the “Download Python 3.x” (currently 3.10.7) button.
If the <a class="reference external" href="https://www.python.org/downloads/">download page</a> offers
you “Latest Python 3 Release” or “Latest Python 2 Release”,  Choose
the Python 3 release.  This will download an installer.<br />
Run the installer and follow its directions.</p>
</section>
<section id="linux-install">
<h4>Linux Install<a class="headerlink" href="#linux-install" title="Permalink to this headline">#</a></h4>
<p>You <em>may</em> find it easier to install using <code class="docutils literal notranslate"><span class="pre">apt-get</span></code> or a similar
package installer for the version of Linux that you use.  You can
find example instructions in
<a class="reference external" href="https://docs.python-guide.org/starting/install3/linux/">The Hitchhikers Guide to Linux</a>.<br />
Alternatively, you can download a “tarball” archive of the sources from
<a class="reference external" href="http://Python.org">Python.org</a>.   As a Linux user, you are probably familiar with these
steps, which are similar to installation of many other tools in Linux.</p>
</section>
</section>
<section id="execute-python-statements-and-programs">
<h3>Execute Python statements and programs<a class="headerlink" href="#execute-python-statements-and-programs" title="Permalink to this headline">#</a></h3>
<section id="executing-python-commands">
<h4>Executing Python commands<a class="headerlink" href="#executing-python-commands" title="Permalink to this headline">#</a></h4>
<p>Python commands (<em>statements</em>) may be executed immediately in a
<em>console</em>, or stored in a program file (often called a <em>script</em>) for
execution later.  In this course we will use <em>IDLE</em> both to execute
statements directly and to edit and execute program files. (Later we
will explore additional ways to edit and execute Python programs.)</p>
<p>Once you have
<span class="xref myst">installed Python 3 on your computer</span>, you
should be able to start <em>IDLE</em> from the command line.  It should look
something like this:</p>
<p><img alt="IDLE shell at start-up" src="_images/IDLE.png" /></p>
<p>The <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> symbol is a <em>prompt</em> indicating that
the Python shell, or console, is ready to
receive a statement and execute it.</p>
<p>Try this by typing <code class="docutils literal notranslate"><span class="pre">print(&quot;Hello!&quot;)</span></code> on the
line with the prompt.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hello
</pre></div>
</div>
</div>
</div>
<p>If you have trouble with these steps, we can probably help you in
class help hours, or a classmate may be able to help.</p>
<p>If you have gotten this far successfully, it is time to dive into
Python programming, or review Python programming if you have done it
before.</p>
<ul class="simple">
<li><p><a class="reference internal" href="intro.html#document-01-Intro/01-03-Kickstart"><span class="doc std std-doc">Python Programming Kickstart</span></a></p></li>
</ul>
</section>
</section>
</section>
<span id="document-01-Intro/01-03-Kickstart"></span><section class="tex2jax_ignore mathjax_ignore" id="python-programming-kickstart">
<h2>Python Programming Kickstart<a class="headerlink" href="#python-programming-kickstart" title="Permalink to this headline">#</a></h2>
<p><a class="reference internal" href="intro.html#document-01-Intro/01-02-Install"><span class="doc std std-doc">Install Python</span></a> before working through this
section, which will review some basics of Python if you have
programmed in Python before, or introduce them if you are not
already familiar with Python.</p>
<p>We will revisit many of the concepts in this kickstart later, in
more depth.  For now we want to get <em>just enough</em> Python programming
to initiate your first projects.</p>
<section id="executing-python-commands-in-idle">
<h3>Executing Python commands in IDLE<a class="headerlink" href="#executing-python-commands-in-idle" title="Permalink to this headline">#</a></h3>
<p>Python commands (<em>statements</em>) may be executed immediately in a
<em>console</em>, or stored in a program file (often called a <em>script</em>) for
execution later.  In this course we will use <em>IDLE</em> both to execute
statements directly and to edit and execute program files. (Later we
will explore additional ways to edit and execute Python programs.)</p>
<p>Once you have
<a class="reference internal" href="intro.html#document-01-Intro/01-02-Install"><span class="doc std std-doc">installed Python 3 on your computer</span></a>, you
should be able to start <em>IDLE</em> from the command line.  It should look
something like this:</p>
<p><img alt="IDLE shell at start-up" src="_images/IDLE.png" /></p>
<p>The <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> symbol is a <em>prompt</em> indicating that
the Python shell, or console, is ready to
receive a statement and execute it.</p>
<p>Try this by typing <code class="docutils literal notranslate"><span class="pre">print(&quot;Hello!&quot;)</span></code> on the
line with the prompt.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hello
</pre></div>
</div>
</div>
</div>
<p>What happens if you change “print” to “Print” or “PRINT”?  Does
this tell you something about the rules of the Python language?</p>
<p>Whenever you are curious about some rule or characteristic of the
Python programming language, you should design and carry out
micro-experiments to build understanding.  As in a full-blown
scientific experiment, you will get the most from a micro-experiment
if you have a specific prediction based on a hypothesis about the
language.</p>
<p>For example, your hypothesis might be “Python is
case-insensitive; ‘Print’ and ‘print’ should do the same thing.”<br />
Your prediction would then be that <code class="docutils literal notranslate"><span class="pre">Print(&quot;Hello&quot;)</span></code> causes “Hello”
to be printed.  Your experiment would <em>disconfirm</em> this prediction,
telling you that the hypothesis was incorrect:  Python is case
sensitive.  Performing little experiments as you work is much faster
than correcting a lot of code that was built on wrong assumptions!</p>
<p>Of course there are other ways you can learn details of Python
language rules. You should already have bookmarked the
<a class="reference external" href="https://docs.python.org/3/library/index.html">Python library documentation</a>
in your browser.  (If you haven’t, do it now!)  Don’t attempt to
read the whole library documentation from start to end.  Instead,
refer to it whenever you need to familiarize or re-familiarize
yourself with some part of Python.  You needn’t try to memorize
anything beyond the absolute basics of Python syntax.  Instead, look
up what you need, as you need it.  Memorization of the parts you use
most will follow automatically.</p>
</section>
<section id="variables-and-assignments">
<h3>Variables and Assignments<a class="headerlink" href="#variables-and-assignments" title="Permalink to this headline">#</a></h3>
<p>A <em>variable</em> in Python is a named storage location.  For example,
<code class="docutils literal notranslate"><span class="pre">x</span></code> could be a variable, and so could <code class="docutils literal notranslate"><span class="pre">this_long_variable_name</span></code>.
When we <em>assign</em> a value to a variable, we are storing a value in it.
If we write an <em>assignment statement</em> like <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">2</span> <span class="pre">+</span> <span class="pre">3</span></code>, we are not
saying that <code class="docutils literal notranslate"><span class="pre">x</span></code> will always be equal to the value <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">+</span> <span class="pre">3</span></code>;  rather
we are telling Python to <em>evaluate</em> <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">+</span> <span class="pre">3</span></code> (producing the value <code class="docutils literal notranslate"><span class="pre">5</span></code>)
and then store that value in the location called <code class="docutils literal notranslate"><span class="pre">x</span></code>.  Some
programmers pronounce “<code class="docutils literal notranslate"><span class="pre">=</span></code>” as “gets” rather than “equals” to
emphasize that meaning and avoid confusion.</p>
<p>Sequences of assignment statements and other Python commands are
executed one-by-one.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">5</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">25</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">8</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>18
</pre></div>
</div>
</div>
</div>
<p>Note in the little program above, storing the value <code class="docutils literal notranslate"><span class="pre">25</span></code> in <code class="docutils literal notranslate"><span class="pre">y</span></code> has
no effect on <code class="docutils literal notranslate"><span class="pre">x</span></code>, because we have already stored a value computed
from the prior value <code class="docutils literal notranslate"><span class="pre">5</span></code> that was in <code class="docutils literal notranslate"><span class="pre">y</span></code> when we executed
<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">5</span></code>.  If <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">5</span></code> was an algebra equation, we would have
created some permanent relationship between the values of <code class="docutils literal notranslate"><span class="pre">x</span></code> and
<code class="docutils literal notranslate"><span class="pre">y</span></code>.  But it is not an equation.  It just evaluates the then-current
value of the expression <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">+</span> <span class="pre">5</span></code> and stores that value in <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<p>We can even use the current value of a variable to evaluate a new
value to be stored in the same variable, as we have in the assignment
statement <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">8</span></code>.</p>
<p>If you find this even a little bit confusing, it may help to watch
these assignment statements execute one by one in the
excellent
<a class="reference external" href="https://pythontutor.com/render.html#code=y%20%3D%205%0Ax%20%3D%20y%20%2B%205%0Ay%20%3D%2025%0Ax%20%3D%20x%20%2B%208%0Aprint%28x%29&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false">Python Tutor</a>
web application.</p>
</section>
<section id="basic-types-int-and-str">
<h3>Basic types: int and str<a class="headerlink" href="#basic-types-int-and-str" title="Permalink to this headline">#</a></h3>
<p>In our example, Python executed <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">5</span></code> by “evaluating” <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">+</span> <span class="pre">5</span></code>
before assigning the result to <code class="docutils literal notranslate"><span class="pre">x</span></code>.  It is always the
right-hand side of the assignment (like <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">+</span> <span class="pre">5</span></code>) that is evaluated,
and only then is the result stored to the variable on the left-hand
side.  We can’t write <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">+</span> <span class="pre">5</span> <span class="pre">=</span> <span class="pre">x</span></code>, because <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">+</span> <span class="pre">5</span></code> is not a variable.
(Try it to be sure … it won’t break your computer, but
the Python interpreter will print an error message.)</p>
<p>How does Python know how to “evaluate” the expression?  How does it
know what “+” means?  The meaning of “+” actually depends on the
kinds of value we are trying to add.  Consider this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pref</span> <span class="o">=</span> <span class="s2">&quot;The meaning of &quot;</span>
<span class="n">suff</span> <span class="o">=</span> <span class="s2">&quot;life, the universe, and everything&quot;</span>
<span class="n">phrase</span> <span class="o">=</span> <span class="n">pref</span> <span class="o">+</span> <span class="n">suff</span>
<span class="nb">print</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The meaning of life, the universe, and everything
</pre></div>
</div>
</div>
</div>
<p>While a value like <code class="docutils literal notranslate"><span class="pre">5</span></code> represents an integer, quoted text like
<code class="docutils literal notranslate"><span class="pre">&quot;The</span> <span class="pre">meaning</span> <span class="pre">of&quot;</span></code> is a string of characters.  These are different
<em>data types</em>, that may be evaluated in different ways.  In
Python, integers
are represented by the values of type <code class="docutils literal notranslate"><span class="pre">int</span></code>, and text is represented
by values of type <code class="docutils literal notranslate"><span class="pre">str</span></code>.  Python has additional data types including
<code class="docutils literal notranslate"><span class="pre">float</span></code> (short for “floating point”) to represent real numbers and
<code class="docutils literal notranslate"><span class="pre">bool</span></code> (short for “Boolean”) to represent truth values, either
<code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Consider this little bit of code that looks
almost like our previous example, but has a very different result:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;5&quot;</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="s2">&quot;5&quot;</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">25</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="s2">&quot;8&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>558
</pre></div>
</div>
</div>
</div>
<p>Can you see the difference?  When we put quotes around <code class="docutils literal notranslate"><span class="pre">&quot;5&quot;</span></code>, we are
giving a value that is not an integer, but rather a string of
characters (in this case just one).  While the meaning of “+” for
<code class="docutils literal notranslate"><span class="pre">int</span></code> values is integer addition, the meaning of “+” for <code class="docutils literal notranslate"><span class="pre">str</span></code>
values (strings of characters, representing text) is concatenation
(like gluing the strings together).</p>
<p>What happens if you try to mix them, like <code class="docutils literal notranslate"><span class="pre">&quot;x&quot;</span> <span class="pre">+</span> <span class="pre">5</span></code>?   (Don’t worry,
although nobody loves error messages, it won’t harm your computer to
try.)</p>
</section>
<section id="functions-and-methods">
<h3>Functions and Methods<a class="headerlink" href="#functions-and-methods" title="Permalink to this headline">#</a></h3>
<p>In addition to expressions with operations like “+” for addition,
operations are sometimes given as function calls like <code class="docutils literal notranslate"><span class="pre">len(&quot;something&quot;)</span></code>
for the length of a <code class="docutils literal notranslate"><span class="pre">str</span></code> value or <code class="docutils literal notranslate"><span class="pre">max(5,</span> <span class="pre">7)</span></code> to choose the larger
of two <code class="docutils literal notranslate"><span class="pre">int</span></code> values.   Some types also have <em>methods</em>, which are
similar but written a little differently, e.g.,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;                island                 &quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>      <span class="c1"># calls function len on string s to find its length</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>      <span class="c1"># s.strip() calls method strip to remove whitespace</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>           
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                island                 
39
island
6
</pre></div>
</div>
</div>
</div>
<p>It’s annoying that you have to remember when to use the
style of a function call like <code class="docutils literal notranslate"><span class="pre">len(s)</span></code> and when to use the style
of a method call like <code class="docutils literal notranslate"><span class="pre">s.strip()</span></code>.  You’ll probably mix them up
sometimes (I still do, after years of Python programming), but
it’s an easy bug to fix when Python complains.</p>
</section>
<section id="lists">
<h3>Lists<a class="headerlink" href="#lists" title="Permalink to this headline">#</a></h3>
<p>Python also provides some types for collections of different values.
We will explore and use several of them.</p>
<p>The collections we will use most are <em>lists</em>, which are sequences of
other values.  For example, <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">&quot;buckle</span> <span class="pre">my</span> <span class="pre">shoe&quot;]</span></code> is a list of
three elements.  The first two elements are <code class="docutils literal notranslate"><span class="pre">int</span></code> (integer) objects and
the third is a <code class="docutils literal notranslate"><span class="pre">str</span></code> (string) object.  The elements of
a list may also be lists (we call this <em>nesting</em>, like matryoshka
dolls).</p>
<figure class="align-default" id="matryoshka">
<a class="reference internal image-reference" href="_images/800px-Matryoshka_transparent.png"><img alt="_images/800px-Matryoshka_transparent.png" src="_images/800px-Matryoshka_transparent.png" style="height: 150px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1 </span><span class="caption-text">Lists within lists are “nested”, like nested dolls.  (Image by user
Fanghong in Mediawiki commons, used under CC by SA license.)</span><a class="headerlink" href="#matryoshka" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>We can <em>nest</em> lists as deeply as we like.
<code class="docutils literal notranslate"><span class="pre">[[&quot;corvids&quot;,</span> <span class="pre">[&quot;crow&quot;,</span> <span class="pre">&quot;raven&quot;]],</span> <span class="pre">[&quot;primates&quot;,</span> <span class="pre">[&quot;lemur&quot;,</span> <span class="pre">&quot;human&quot;]]]</span></code>
denotes a list with two elements.  The first element of that list is a
list with two elements, and the first element of <em>that</em> list is a
string (“corvids”).</p>
<figure class="align-default" id="nested">
<a class="reference internal image-reference" href="_images/nested-list.png"><img alt="_images/nested-list.png" src="_images/nested-list.png" style="height: 300px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2 </span><span class="caption-text">List elements can be references to other lists, as well as other
kinds of object, as illustrated by this representation of
<code class="docutils literal notranslate"><span class="pre">[[&quot;corvids&quot;,</span> <span class="pre">[&quot;crow&quot;,</span> <span class="pre">&quot;raven&quot;]],</span> <span class="pre">[&quot;primates&quot;,</span> <span class="pre">[&quot;lemur&quot;,</span> <span class="pre">&quot;human&quot;]]]</span></code></span><a class="headerlink" href="#nested" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>In addition to actual lists, we will use some other kinds of value
that are very similar.  For example, several of our projects will treat
text files almost as if they were lists of strings, except that we
have to “open” them before accessing each line of text as a string.</p>
<section id="decisions-the-if-statement">
<h4>Decisions: The “if” statement<a class="headerlink" href="#decisions-the-if-statement" title="Permalink to this headline">#</a></h4>
<p>Python provides an <code class="docutils literal notranslate"><span class="pre">if</span></code>
construct for choosing between possible actions.  We’ll illustrate
it with a very simple example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">17</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">30</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">:</span> 
    <span class="n">x_y_max</span> <span class="o">=</span> <span class="n">x</span>
<span class="k">else</span><span class="p">:</span> 
    <span class="n">x_y_max</span> <span class="o">=</span> <span class="n">y</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x_y_max</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>30
</pre></div>
</div>
</div>
</div>
<p>We can <em>nest</em> <code class="docutils literal notranslate"><span class="pre">if</span></code> statements within other <code class="docutils literal notranslate"><span class="pre">if</span></code> statements:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">17</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">z</span> <span class="o">=</span> <span class="mi">15</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">:</span> 
    <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">z</span><span class="p">:</span>
      <span class="n">biggest</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">biggest</span> <span class="o">=</span> <span class="n">z</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">z</span><span class="p">:</span>
      <span class="n">biggest</span> <span class="o">=</span> <span class="n">y</span>
    <span class="k">else</span><span class="p">:</span> 
      <span class="n">biggest</span> <span class="o">=</span> <span class="n">z</span>
<span class="nb">print</span><span class="p">(</span><span class="n">biggest</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>30
</pre></div>
</div>
</div>
</div>
<p>Sometimes we can write simpler, clearer code by using <code class="docutils literal notranslate"><span class="pre">elif</span></code> instead of
nesting <code class="docutils literal notranslate"><span class="pre">if</span></code> statements.  Combining comparisons with <code class="docutils literal notranslate"><span class="pre">and</span></code> and <code class="docutils literal notranslate"><span class="pre">or</span></code>
can also help.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">17</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">z</span> <span class="o">=</span> <span class="mi">15</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">z</span><span class="p">:</span>
  <span class="n">biggest</span> <span class="o">=</span> <span class="n">x</span>
<span class="k">elif</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">x</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">z</span><span class="p">:</span>
  <span class="n">biggest</span> <span class="o">=</span> <span class="n">y</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">biggest</span> <span class="o">=</span> <span class="n">z</span>
<span class="nb">print</span><span class="p">(</span><span class="n">biggest</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>30
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We have chosen an over-simplified example to illustrate <code class="docutils literal notranslate"><span class="pre">if</span></code> and
<code class="docutils literal notranslate"><span class="pre">elif</span></code>.  An even better way to find the largest of three values
would be to use Python’s built-in <code class="docutils literal notranslate"><span class="pre">max</span></code> function.</p>
</div>
<p>Recall that the symbol <code class="docutils literal notranslate"><span class="pre">=</span></code> is used for assignment.  So how can we make
an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement that checks whether two values are equal?  In
Python we use <code class="docutils literal notranslate"><span class="pre">==</span></code> to check equality.  Some other comparisons
use pairs of characters:  <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code> for “at least” or “greater or equal to”
and <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> for “at most” or “less than or equal to”.  For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;They are the same&quot;</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="n">y</span><span class="p">:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x must be larger, since they&#39;re not equal&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;y must be larger&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>y must be larger
</pre></div>
</div>
</div>
</div>
<p>Using <code class="docutils literal notranslate"><span class="pre">=</span></code> when you meant to use <code class="docutils literal notranslate"><span class="pre">==</span></code> for a comparison is a
common typo.  Fortunately Python usually catches it and produces
an error message:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">x</span> <span class="o">=</span> <span class="n">y</span><span class="p">:</span>       <span class="c1"># OOPS! </span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This will never happen.  Huh uh.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span>  <span class="n">Input</span> <span class="n">In</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">=</span> <span class="n">y</span><span class="p">:</span>       <span class="c1"># OOPS!</span>
       <span class="o">^</span>
<span class="ne">SyntaxError</span>: invalid syntax. Maybe you meant &#39;==&#39; or &#39;:=&#39; instead of &#39;=&#39;?
</pre></div>
</div>
</div>
</div>
</section>
<section id="repetition-looping-for">
<h4>Repetition (looping): <code class="docutils literal notranslate"><span class="pre">for</span></code><a class="headerlink" href="#repetition-looping-for" title="Permalink to this headline">#</a></h4>
<p>Often we need to repeat the same action with different values.  Most
commonly we will want to perform an action with each element of a
collection (e.g., a <code class="docutils literal notranslate"><span class="pre">list</span></code>  object).  Python lets us do
this with a <em>for loop</em>, like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">animals</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;elephant&quot;</span><span class="p">,</span> <span class="s2">&quot;tapir&quot;</span><span class="p">,</span> <span class="s2">&quot;manatee&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">pet</span> <span class="ow">in</span> <span class="n">animals</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pet</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>elephant
tapir
manatee
</pre></div>
</div>
</div>
</div>
<p>Typically, when we <em>loop through</em> a collection of objects, we
accumulate some information about the collection as a whole. Suppose,
for example, we wanted to determine the number of characters
(letters) in all the animal names together.  We would <em>initialize</em> a
total just before the loop, then <em>accumulate</em> values within the loop.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">animals</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;elephant&quot;</span><span class="p">,</span> <span class="s2">&quot;tapir&quot;</span><span class="p">,</span> <span class="s2">&quot;manatee&quot;</span><span class="p">]</span>
<span class="n">total_length</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">pet</span> <span class="ow">in</span> <span class="n">animals</span><span class="p">:</span>
    <span class="n">total_length</span> <span class="o">=</span> <span class="n">total_length</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">pet</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">total_length</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>20
</pre></div>
</div>
</div>
</div>
<p>This is such a common <em>pattern</em> that it has a name, the <em>accumulator
pattern</em>.</p>
<p>We will see many variations on <code class="docutils literal notranslate"><span class="pre">for</span></code> loops and on the accumulator
pattern in projects.  There are other kinds of loops in Python (e.g.,
a <code class="docutils literal notranslate"><span class="pre">while</span></code> loop repeats as long as some condition is true), but <code class="docutils literal notranslate"><span class="pre">for</span></code>
loops are most common.</p>
</section>
</section>
<section id="user-defined-functions">
<h3>User-defined functions<a class="headerlink" href="#user-defined-functions" title="Permalink to this headline">#</a></h3>
<p>Above we looked at calling <em>built-in</em> functions like <code class="docutils literal notranslate"><span class="pre">len</span></code> and
<code class="docutils literal notranslate"><span class="pre">print</span></code>. You are not limited to using the built-in functions
provided with Python — you can also write your own.   We will
spend a lot of time designing, writing, testing, and debugging
functions in this course, starting with our very first project.</p>
<p>You may define a new function once and call it several times in
different parts of your code.
In that way a function can make your code shorter.  More fundamentally,
a well-designed and well-written function can make your code
easier to read, understand, and maintain, by organizing complex
logic into <a class="reference external" href="https://www.zora.uzh.ch/id/eprint/151291/1/Thalmann.et.al.Chunking.final.pdf">brain-size chunks</a>.</p>
<p>You create a new function with the keyword <code class="docutils literal notranslate"><span class="pre">def</span></code>, short for “define”.
Give it a concise, meaningful name, and then describe the
<em>arguments</em> that the function will use (the input of the function)
and the type of <em>result</em>, if any, that it will return.  For example,
if Python did not already have a <code class="docutils literal notranslate"><span class="pre">max</span></code> function for integers, we might
create one like this:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_max</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;Returns x or y, whichever is larger&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="n">y</span><span class="p">:</span> 
        <span class="k">return</span> <span class="n">x</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="k">return</span> <span class="n">y</span>
</pre></div>
</div>
<p>Note that we indicate the expected type of each of
the arguments <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> (both <code class="docutils literal notranslate"><span class="pre">int</span></code> in this case),
as well as the type of
value that <code class="docutils literal notranslate"><span class="pre">my_max</span></code> will return (also <code class="docutils literal notranslate"><span class="pre">int</span></code>).  The first line
or lines in the indented <em>body</em> of the function is a
<em>docstring comment</em> explaining the purpose of the function
(but not how it works).  In our first project we will also
see how to add automated tests to a longer docstring comment.</p>
<p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> in “<code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">my_max(x:</span> <span class="pre">int,</span> <span class="pre">y:</span> <span class="pre">int)</span></code>” are called <em>formal
arguments</em>.
You can think of the variables <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>
as placeholders for values that we will “pass in”
when we call <code class="docutils literal notranslate"><span class="pre">my_max</span></code>, like this:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">17</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">32</span>
<span class="n">ab_max</span> <span class="o">=</span> <span class="n">my_max</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ab_max</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example, <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are called the <em>actual arguments</em>,
corresponding to the <em>formal arguments</em> <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.  The
When <code class="docutils literal notranslate"><span class="pre">my_max</span></code> is called with <code class="docutils literal notranslate"><span class="pre">my_max(a,</span> <span class="pre">b)</span></code>, we <em>pass</em> the
values of <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>, setting the <code class="docutils literal notranslate"><span class="pre">x</span></code> value in <code class="docutils literal notranslate"><span class="pre">my_max</span></code> to
the value of <code class="docutils literal notranslate"><span class="pre">a</span></code> and setting the <code class="docutils literal notranslate"><span class="pre">y</span></code> value in <code class="docutils literal notranslate"><span class="pre">my_max</span></code> to
the value of <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p>
<p>There is much more to be said about functions, about passing
actual values and binding them to formal arguments, and
especially about designing functions that help us think
clearly about our programs.  We will build on these
basics in the next few projects and beyond.</p>
</section>
<section id="start-building">
<h3>Start building!<a class="headerlink" href="#start-building" title="Permalink to this headline">#</a></h3>
<p>The little bits above are only a small fraction of the Python
programming language.  We could go on much longer, but it is easier
to remember information that you have actually used. We
will therefore jump straight into building a
project.  After establishing that concrete anchor to your knowledge of
programming in Python, we can return to fill in additional details
and take a deeper look at variables, types, control structures
(sequencing, decisions, and loops), and the problem-solving
processes we use in programming.</p>
</section>
<section id="keep-reading">
<h3>Keep reading 𝄇<a class="headerlink" href="#keep-reading" title="Permalink to this headline">#</a></h3>
<p>If some of this chapter is a little confusing, read it again.
If it doesn’t seem confusing yet, start on the project,
then come back when the project confuses you to re-read
relevant parts, and/or
give it one more read-through when you finish the project.
Really.  These
chapters are short <em>so that you can read them again and again</em>,
and especially so that you can move back and forth between
project and text.  Don’t expect to remember everything in a
chapter and then recall it as you build the project.  Rather, a first
reading will get you far enough to get started on the project,
then the project will help you get more from a second reading
of each chapter.</p>
</section>
<section id="project-1">
<h3>Project 1<a class="headerlink" href="#project-1" title="Permalink to this headline">#</a></h3>
<p>Our first project is
<a class="reference external" href="https://github.com/UO-CS210/jumbler">an anagram solver</a>.
You will find it on github.</p>
<figure class="align-default" id="id1">
<img alt="_images/github-download-zip.png" src="_images/github-download-zip.png" />
<figcaption>
<p><span class="caption-number">Fig. 3 </span><span class="caption-text">Download the project as a zip archive from github.</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Decompress the project archive into a directory (“folder”) and move
the whole thing to a directory in which you keep all the projects
for this class.   Inside the directory for this project, you will
find a directory called “docs”, and inside that you will find
“<a class="reference external" href="http://HOWTO.md">HOWTO.md</a>” with instructions on completing the assignment.  Those
instructions are in a form called “markdown”.  If you are familiar
with the markdown format and already have a markdown reader tool
installed, you can read the instructions that way.  Otherwise you
may prefer to read on github by clicking
through on <code class="docutils literal notranslate"><span class="pre">docs</span></code> and then <code class="docutils literal notranslate"><span class="pre">HOWTO.md</span></code> to reach
<a class="reference external" href="https://github.com/UO-CS210/jumbler/blob/main/docs/HOWTO.md">the formatted version</a>.</p>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-02-Functions/02-01-Functions"></span><section class="tex2jax_ignore mathjax_ignore" id="designing-and-building-functions-in-python">
<h2>Designing and Building Functions in Python<a class="headerlink" href="#designing-and-building-functions-in-python" title="Permalink to this headline">#</a></h2>
<p>As we discussed in the
<a class="reference internal" href="intro.html#document-01-Intro/01-03-Kickstart"><span class="doc std std-doc">prior chapter</span></a>,
<em>controlling complexity</em> is the main challenge in programming,
and <em>functions</em> are one of the primary ways
we can decompose complex programs into
<em>brain-size chunks</em>.</p>
<p>In this chapter we will take a deeper dive into functions in Python:
How they work, how to write and test them, and how to design them.
The last part, learning to design <em>good</em> functions that are useful,
readable, testable, and maintainable, is most challenging.  We will
not master it in a week or in ten weeks, not even in ten years.
Like learning to play a musical instrument or cooking or playing a
sport, one can spend a lifetime improving, expanding, and refining
technique.  Our shorter term objective is to establish a basic level
of competence to begin.</p>
<p>We begin with a brief look at the <em>mechanics</em> of functions.  This
includes the syntax for writing a function header, and a few basic
rules that they should conform to.  Most importantly, you must
understand how <em>formal arguments</em> and other variables that are
<em>local</em> to a function relate to variables outside the function. This
is called <em>scope</em>.</p>
<ul class="simple">
<li><p><a class="reference internal" href="intro.html#document-02-Functions/02-02-Scope"><span class="doc std std-doc">Scope in Python</span></a></p></li>
</ul>
<p>With those mechanics in hand, we can make our first (and certainly
not our last) foray into function design.  We will look at some
basic guidelines that (almost) all functions should follow.  We will
also look at testing functions, and writing documentation that is
useful for users and maintainers of functions.  We might refer to
these as guidelines for <em>function hygiene</em>.</p>
<ul class="simple">
<li><p><a class="reference internal" href="intro.html#document-02-Functions/02-03-Hygiene"><span class="doc std std-doc">Function Hygiene in Python</span></a></p></li>
</ul>
<p>Basic hygiene helps us avoid some harmful practices.  We would
like to go farther and learn to design really well-chosen, useful, even
elegant functions.  How do we choose functions?  Of all the ways we
could decompose a complex problem into smaller, simpler sub-problems,
what makes some better than others?  Our first steps toward grasping
these deeper issues are best taken in the context of a project.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/UO-CS210/pi">Project: Estimating Pi</a></p></li>
</ul>
<p>The project illustrates Monte Carlo simulation, an important
computational technique that is applied in fields from games to
biology, ecology, and economics.  The project documentation also
walks you through the thought process of decomposing a project into
smaller parts and choosing an order in which to build and test
those parts.  Decomposing problems and composing solutions is a core
<em>computational thinking</em> skill that you will use and refine as long
as you are solving problems with computational techniques.  It can
also be useful to you in other problem-solving domains.</p>
</section>
<span id="document-02-Functions/02-02-Scope"></span><section class="tex2jax_ignore mathjax_ignore" id="binding-functions-and-scope">
<h2>Binding:  Functions and Scope<a class="headerlink" href="#binding-functions-and-scope" title="Permalink to this headline">#</a></h2>
<p>In the prior chapter and accompanying project we both used functions
that come built-in to Python (like <code class="docutils literal notranslate"><span class="pre">max</span></code> and <code class="docutils literal notranslate"><span class="pre">sorted</span></code>) and functions
that you can create yourself.  In this chapter we will look further
at both, but especially at functions that you write.</p>
<figure class="align-default" id="tools">
<a class="reference internal image-reference" href="_images/kitchen-tools.jpg"><img alt="_images/kitchen-tools.jpg" src="_images/kitchen-tools.jpg" style="height: 250px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 4 </span><span class="caption-text">Tools alone will not make you a good cook, or a good programmer,
but good cooks and programmers know their tools.</span><a class="headerlink" href="#tools" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<section id="built-in-and-imported-functions">
<h3>Built-in and imported functions<a class="headerlink" href="#built-in-and-imported-functions" title="Permalink to this headline">#</a></h3>
<p>A collection of reusable software written by others and ready for us
to incorporate in our own programs is called a <em>library</em>.  Python
has a rich set of libraries.  In this course we will focus on
libraries that come pre-packaged with a standard Python 3
installation.   We will omit consideration of additional libraries
that you can install, although you might use those in other
courses or for side projects.</p>
<section id="always-available">
<h4>Always available<a class="headerlink" href="#always-available" title="Permalink to this headline">#</a></h4>
<p>Some functions are always present and available.
They are documented at
<a class="reference external" href="https://docs.python.org/3/library/functions.html">https://docs.python.org/3/library/functions.html</a>.
The always available functions
include some we have already seen, like <code class="docutils literal notranslate"><span class="pre">len</span></code> and <code class="docutils literal notranslate"><span class="pre">sorted</span></code>.
They also include some more esoteric functions that you may never
use.  You do not need to memorize them all!</p>
<p>Recall that methods are very much like functions, but instead of a
function call like <code class="docutils literal notranslate"><span class="pre">len(s)</span></code>, we make a method call like <code class="docutils literal notranslate"><span class="pre">s.strip()</span></code>.
The methods of the built-in types are not listed in the table above,
but they are documented with the types of data they operate on.
For example, <code class="docutils literal notranslate"><span class="pre">strip</span></code> is described in
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#string-methods">documentation for type <code class="docutils literal notranslate"><span class="pre">str</span></code></a>.
Again, it is not necessary (or perhaps even possible) to memorize
all the built-in methods for all the built-in types.  Bookmark the
<a class="reference external" href="https://docs.python.org/3/library/index.html">Python standard library documentation page</a> and refer to it
whenever you need to use them.  You will soon enough remember the
functions and methods you use most often.</p>
</section>
<section id="importing-other-modules">
<h4>Importing other modules<a class="headerlink" href="#importing-other-modules" title="Permalink to this headline">#</a></h4>
<p>In addition to the functions that are always available and the
types that are always available with their methods, the Python
standard library includes a large number of optional modules.  These
are installed on your computer when you install Python 3, but they
are not automatically available in your program until you indicate
your intent to use them.</p>
<p>To gain access to functions and types from a part of the standard
library that is not already available, you <em>import</em> it, like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">random</span></code> is a <em>module</em> that contains several functions we might want
to use.  For example, to generate a random integer between
25 and 100, inclusive, we could write</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r_int</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">r_int</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>78
</pre></div>
</div>
</div>
</div>
<p>Notice that we cannot call <code class="docutils literal notranslate"><span class="pre">randint</span></code> without specifying that it
belongs to module <code class="docutils literal notranslate"><span class="pre">random</span></code>.  That is because the module is a
<em>namespace</em> with a distinct set of names for functions and variables.<br />
It is possible for the same name to appear in more than one
namespace, referring to distinct values or objects.
That’s the point of namespaces:  Because each
module or other
namespace has its own set of names, we don’t have to worry about
accidental conflicts between names in different namespaces.</p>
<p>The global namespace (or <em>scope</em>) of your program is distinct from
the namespace of modules you import.  When you import <code class="docutils literal notranslate"><span class="pre">random</span></code>, the
name “random” refers to the whole module, and is distinct from any
names
that occur <em>within</em> that module, like <code class="docutils literal notranslate"><span class="pre">random.randint</span></code>.  It is even
possible for the module <code class="docutils literal notranslate"><span class="pre">random</span></code> to contain within it a function
that is also called <code class="docutils literal notranslate"><span class="pre">random</span></code>.  It does:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r_float</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>   <span class="c1"># Returns v such that 0.0 &lt;= v &lt; 1.0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">r_float</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.35236960247475857
</pre></div>
</div>
</div>
</div>
<p>There is no confusion in interpreting the name <code class="docutils literal notranslate"><span class="pre">random.random</span></code>.  The
part before the <code class="docutils literal notranslate"><span class="pre">.</span></code> is in the namespace of your program, so it
refers to the module.  The part after the <code class="docutils literal notranslate"><span class="pre">.</span></code> is in the namespace of
the module, so it refers to function <code class="docutils literal notranslate"><span class="pre">random</span></code> found in module
<code class="docutils literal notranslate"><span class="pre">random</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This section introduces many closely related terms like <em>scope</em>,
<em>namespace</em>, and <em>frame</em>, as well as some terms like <em>argument</em> that
are often used interchangeably with other terms like <em>parameter</em> in
Python documentation.  It can be confusing!  We have provided
a short <a class="reference internal" href="intro.html#document-02-Functions/02-04-Terms"><span class="doc std std-doc">discussion of terminology</span></a> to help you
keep them straight.</p>
</div>
</section>
<section id="finding-useful-modules">
<h4>Finding useful modules<a class="headerlink" href="#finding-useful-modules" title="Permalink to this headline">#</a></h4>
<p>It is not practical to memorize the names of all the modules in the
Python standard library, let alone all the functions in all those
modules.  Just bookmark the
<a class="reference external" href="https://docs.python.org/3/library/index.html">standard library documentation</a>
and search.  The modules are mostly well-named and
have clear, concise descriptions that will help you find what you
need.   Once again, the modules you use often will stick in memory
without conscious attempts at memorization.</p>
</section>
</section>
<section id="defining-and-calling-a-function">
<h3>Defining and calling a function<a class="headerlink" href="#defining-and-calling-a-function" title="Permalink to this headline">#</a></h3>
<p>Recall that a Python function can be created by writing a function
<em>header</em> (starting with <code class="docutils literal notranslate"><span class="pre">def</span></code>) to define how it is called, and a
function <em>body</em> that describes how it works.  Here is a simple
function that returns the absolute difference between two integer
values:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">abs_diff</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Absolute value of the difference between x and y.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">:</span> 
        <span class="k">return</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="k">return</span> <span class="n">y</span> <span class="o">-</span> <span class="n">x</span>
</pre></div>
</div>
<p>The name of the new function will be <code class="docutils literal notranslate"><span class="pre">abs_diff</span></code>.  Following
<a class="reference external" href="https://peps.python.org/pep-0008/">Python naming conventions</a>, it
is made of lower case letters (no capital letters), with parts
separated by underscore (”<code class="docutils literal notranslate"><span class="pre">_</span></code>”).  The following
<a class="reference internal" href="intro.html#document-02-Functions/02-03-Hygiene"><span class="doc std std-doc">chapter on pragmatics</span></a>
discusses the choice of name in more depth.</p>
<p>Function <code class="docutils literal notranslate"><span class="pre">abs_diff</span></code> has two <em>arguments</em>, also called <em>formal
parameters</em>, <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.   The <em>actual arguments</em> passed to
<code class="docutils literal notranslate"><span class="pre">abs_diff</span></code> must be <code class="docutils literal notranslate"><span class="pre">int</span></code> objects representing integers.  The
function header also indicates that <code class="docutils literal notranslate"><span class="pre">abs_diff</span></code> will return a single
<code class="docutils literal notranslate"><span class="pre">int</span></code> value.  This information comprises the <em>signature</em> of
function <code class="docutils literal notranslate"><span class="pre">abs_diff</span></code>, which is <em>(int, int) -&gt; int</em>.  This is enough
to tell us that <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">abs_diff(5,</span> <span class="pre">7)</span></code> is a legal assignment that
assigns an <code class="docutils literal notranslate"><span class="pre">int</span></code> value to <code class="docutils literal notranslate"><span class="pre">x</span></code>, but <code class="docutils literal notranslate"><span class="pre">abs_diff(&quot;cats&quot;,</span> <span class="pre">&quot;dogs&quot;)</span></code> is
an error, as is <code class="docutils literal notranslate"><span class="pre">abs_diff(3,</span> <span class="pre">2)</span> <span class="pre">+</span> <span class="pre">&quot;turtles&quot;</span></code>.</p>
<p>Less obviously, <code class="docutils literal notranslate"><span class="pre">abs_diff(3.2,</span> <span class="pre">5.4)</span></code> is a programming error, even
though it will return 2.2.  This is because the header of a function
is a sort of contract between the author of the function and anyone
who calls that function (even if they are the same person).  Passing
a floating point number like 3.2 to <code class="docutils literal notranslate"><span class="pre">abs_diff</span></code> breaks that contract.
As <a class="reference internal" href="intro.html#document-02-Functions/02-03-Hygiene"><span class="doc std std-doc">the next chapter</span></a> discusses in more depth,
it is essential that a programmer who wants to make use of
<code class="docutils literal notranslate"><span class="pre">abs_diff</span></code> be able to depend entirely on the contract given by
the function header and docstring, without referring to the body of
the function.</p>
</section>
<section id="scope">
<h3>Scope<a class="headerlink" href="#scope" title="Permalink to this headline">#</a></h3>
<p>We saw earlier that when we call a function, the values we “pass” to
the function are assigned to the formal arguments, which might have
different names than the variables that we pass:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">diff</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Returns a - b.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>

<span class="n">x</span> <span class="o">=</span> <span class="mi">17</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">14</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>     <span class="c1"># Error!  Variable a doesn&#39;t exist here. </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [4],</span> in <span class="ni">&lt;cell line: 9&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">z</span> <span class="o">=</span> <span class="n">diff</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">9</span> <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;a&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>It may help to see this example step-by-step in PythonTutor.  If you
are viewing this chapter in a web browser, use the
“next” button in the frame below to step through it.</p>
<iframe width="800" height="500" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=def%20diff%28a%3A%20int,%20b%3A%20int%29%20-%3E%20int%3A%0A%20%20%20%20%22%22%22Returns%20a%20-%20b.%22%22%22%0A%20%20%20%20return%20a%20-%20b%0A%0Ax%20%3D%2017%0Ay%20%3D%2014%0Az%20%3D%20diff%28x,%20y%29%0Aprint%28z%29%0Aprint%28a%29%20%20%20%20%20%23%20Error!%20%20Variable%20a%20doesn't%20exist%20here.&codeDivHeight=400&codeDivWidth=350&cumulative=false&curInstr=0&heapPrimitives=nevernest&origin=opt-frontend.js&py=3&rawInputLstJSON=%5B%5D&textReferences=false"> </iframe>
<p>In the example above, function <code class="docutils literal notranslate"><span class="pre">diff</span></code>, the value of <code class="docutils literal notranslate"><span class="pre">x</span></code> is assigned
to the formal argument <code class="docutils literal notranslate"><span class="pre">a</span></code> and the value of <code class="docutils literal notranslate"><span class="pre">y</span></code> is assigned to the
formal argument <code class="docutils literal notranslate"><span class="pre">b</span></code>, so we get <code class="docutils literal notranslate"><span class="pre">17</span> <span class="pre">-</span> <span class="pre">14</span></code> which is 3.  Also, the
variables <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> exist only while <code class="docutils literal notranslate"><span class="pre">diff</span></code> is executing, so the
final statement will cause an error (“NameError”, which
basically means there is no variable <code class="docutils literal notranslate"><span class="pre">a</span></code> at that point in the program.)</p>
<p>If you assign to a variable within a function, that variable will
likewise exist only as long as the function is executing.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">example</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Example return a + 1.&quot;&quot;&quot;</span>
    <span class="n">thing</span> <span class="o">=</span> <span class="n">a</span>
    <span class="k">return</span> <span class="n">thing</span> <span class="o">+</span> <span class="mi">1</span>
    
<span class="n">x</span> <span class="o">=</span> <span class="n">example</span><span class="p">(</span><span class="mi">41</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">thing</span><span class="p">)</span>    <span class="c1"># No thing here! </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>42
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [5],</span> in <span class="ni">&lt;cell line: 8&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="n">x</span> <span class="o">=</span> <span class="n">example</span><span class="p">(</span><span class="mi">41</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">8</span> <span class="nb">print</span><span class="p">(</span><span class="n">thing</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;thing&#39; is not defined
</pre></div>
</div>
</div>
</div>
<p>You can also
<a class="reference external" href="https://pythontutor.com/render.html#code=def%20example%28a%3A%20int%29%20-%3E%20int%3A%0A%20%20%20%20%22%22%22Example%20return%20a%20%2B%201.%22%22%22%0A%20%20%20%20thing%20%3D%20a%0A%20%20%20%20return%20thing%20%2B%201%0A%20%20%20%20%0Ax%20%3D%20example%2841%29%0Aprint%28x%29%0Aprint%28thing%29%20%20%20%20%23%20No%20thing%20here%21&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false">step through this example in PythonTutor.</a></p>
<p>We say that both <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">thing</span></code> exist in the <em>local scope</em> of
function <code class="docutils literal notranslate"><span class="pre">example</span></code>.   It is even possible for two or more variables
with the same name to exist in different scopes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Global scope (global frame or namespace)</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">23</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">42</span>
<span class="n">m</span> <span class="o">=</span> <span class="mi">19</span>

<span class="k">def</span> <span class="nf">example</span><span class="p">(</span><span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Example to illustrate scope&quot;&quot;&quot;</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">77</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;x is bound to </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2"> within example&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;y is bound to </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2"> within example&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;m is bound to </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2"> within example&quot;</span><span class="p">)</span>

<span class="c1"># Executing &quot;example&quot; creates the new local scope</span>
<span class="n">example</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1"># When &quot;example&quot; finishes, the new scope is deleted</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;After example, x is bound to </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;After example, y is bound to </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;After example, m is bound to </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x is bound to 23 within example
y is bound to 77 within example
m is bound to 23 within example
After example, x is bound to 23
After example, y is bound to 42
After example, m is bound to 19
</pre></div>
</div>
</div>
</div>
<p>You can
<a class="reference external" href="https://pythontutor.com/render.html#code=%23%20Global%20scope%0Ax%20%3D%2023%0Ay%20%3D%2042%0Am%20%3D%2019%0A%0Adef%20example%28m%3A%20int%29%3A%0A%20%20%20%20%22%22%22Example%20to%20illustrate%20scope%22%22%22%0A%20%20%20%20y%20%3D%2077%0A%20%20%20%20print%28f%22x%20is%20bound%20to%20%7Bx%7D%20within%20example%22%29%0A%20%20%20%20print%28f%22y%20is%20bound%20to%20%7By%7D%20within%20example%22%29%0A%20%20%20%20print%28f%22m%20is%20bound%20to%20%7Bm%7D%20within%20example%22%29%0A%0A%23%20Executing%20%22example%22%20creates%20the%20new%20scope%0Aexample%28x%29%0A%23%20When%20%22example%22%20finishes,%20the%20new%20scope%20is%20deleted%0A%0Aprint%28f%22After%20example,%20x%20is%20bound%20to%20%7Bx%7D%22%29%0Aprint%28f%22After%20example,%20y%20is%20bound%20to%20%7By%7D%22%29%0Aprint%28f%22After%20example,%20m%20is%20bound%20to%20%7Bm%7D%22%29&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false">step through this example in PythonTutor</a></p>
<p>During execution of <code class="docutils literal notranslate"><span class="pre">example(x)</span></code>, the scopes created by the example
above look like this:</p>
<p><img alt="Scopes during execution of " src="_images/bind_stack.png" /></p>
<p>There are several things to notice:</p>
<ul class="simple">
<li><p>Although there are two name spaces (scopes or frames) in the example,
there
is only one object space.  PythonTutor shows the <code class="docutils literal notranslate"><span class="pre">int</span></code> values
directly in frames as a simplification, but they are actually
objects in object space.</p></li>
<li><p>When we call <code class="docutils literal notranslate"><span class="pre">example(x)</span></code>, the value
bound to <code class="docutils literal notranslate"><span class="pre">x</span></code> in the global scope is bound to <code class="docutils literal notranslate"><span class="pre">m</span></code> in the scope of
<code class="docutils literal notranslate"><span class="pre">example(x)</span></code>.  We say that the “actual argument” <code class="docutils literal notranslate"><span class="pre">x</span></code> is bound to
the “formal argument” <code class="docutils literal notranslate"><span class="pre">m</span></code> in <code class="docutils literal notranslate"><span class="pre">example(m:</span> <span class="pre">int)</span></code>.  This is always
how values are passed to functions in Python.</p></li>
<li><p>The same value, an <code class="docutils literal notranslate"><span class="pre">int</span></code> object containing the integer 23, is
bound to more than one name.  This is called <em>aliasing</em>.<br />
It will become important when we consider objects like
lists that can be modified, with intentional effects
or unintentional <span class="xref myst">side effects</span>.</p></li>
</ul>
<p>Aliasing of the same int object to the name <code class="docutils literal notranslate"><span class="pre">m</span></code> in the
execution of <code class="docutils literal notranslate"><span class="pre">example</span></code>, and to <code class="docutils literal notranslate"><span class="pre">x</span></code> in the global namespace, is
hardly noticeable.  We might compute some new value by adding the
values of 23 and 42, but that would be an entirely new <code class="docutils literal notranslate"><span class="pre">int</span></code> object.
We would not be changing the int object <code class="docutils literal notranslate"><span class="pre">23</span></code> mean something else
(thank goodness).  We call <code class="docutils literal notranslate"><span class="pre">int</span></code> objects <em>immutable</em> because they
can never change value.</p>
<p>You can watch the example in action with
<a class="reference external" href="https://pythontutor.com/render.html#code=%23%20Global%20scope%0Ax%20%3D%2023%0Ay%20%3D%2042%0Am%20%3D%2019%0A%0Adef%20example%28m%3A%20int%29%3A%0A%20%20%20%20y%20%3D%2077%0A%20%20%20%20print%28f%22x%20is%20bound%20to%20%7Bx%7D%20within%20example%22%29%0A%20%20%20%20print%28f%22y%20is%20bound%20to%20%7By%7D%20within%20example%22%29%0A%20%20%20%20print%28f%22m%20is%20bound%20to%20%7Bm%7D%20within%20example%22%29%0A%0A%23%20Executing%20%22example%22%20creates%20the%20new%20scope%0Aexample%28x%29%0A%23%20When%20%22example%22%20finishes,%20the%20new%20scope%20is%20deleted%0A%0Aprint%28f%22After%20example,%20x%20is%20bound%20to%20%7Bx%7D%22%29%0Aprint%28f%22After%20example,%20y%20is%20bound%20to%20%7By%7D%22%29%0Aprint%28f%22After%20example,%20m%20is%20bound%20to%20%7Bm%7D%22%29&amp;cumulative=false&amp;curInstr=7&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false">Python Tutor</a>.
It should look very similar to our illustration above, except Python
Tutor will not draw the <code class="docutils literal notranslate"><span class="pre">int</span></code> objects in the object space.  They
really are objects, but Python Tutor draws the integer values
without the objects that hold them to reduce clutter.</p>
</section>
<section id="global-variables">
<h3>Global variables<a class="headerlink" href="#global-variables" title="Permalink to this headline">#</a></h3>
<p>Generally we want to keep the local variables in one function
execution completely separate not only from the local variables of
other functions, but also from the global namespace of our program.
We do <em>not</em> want to write code like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bad_bad_bad</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Don&#39;t do this!&quot;&quot;&quot;</span>
    <span class="n">s</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>   <span class="c1"># s is not local to bad_bad_bad. </span>
    
<span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">bad_bad_bad</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>    <span class="c1"># Not obvious that we are changing s! </span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 3]
</pre></div>
</div>
</div>
</div>
<p>In this example, <code class="docutils literal notranslate"><span class="pre">bad_bad_bad</span></code> is a function that accesses and
even changes the variable called <code class="docutils literal notranslate"><span class="pre">s</span></code>, not in its own namespace (the
local scope of the function) but in the global scope of the program.
The function is at least appropriately named.  This is almost always
a bad idea.  Python nonetheless permits it because there are a few,
rare cases in which accessing a global variable is needed.</p>
<p>If you are reading the online version of this text, you can
<a class="reference external" href="https://pythontutor.com/render.html#code=def%20bad_bad_bad%28x%3A%20int%29%3A%0A%20%20%20%20%22%22%22Don%27t%20do%20this%21%22%22%22%0A%20%20%20%20s.append%28x%29%20%20%20%23%20s%20is%20not%20local%20to%20bad_bad_bad.%20%0A%20%20%20%20%0As%20%3D%20%5B1,%202%5D%0Abad_bad_bad%283%29%20%20%20%20%23%20Not%20obvious%20that%20we%20are%20changing%20s%21%20%0Aprint%28s%29&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false">step through <code class="docutils literal notranslate"><span class="pre">bad_bad_bad</span></code> in PythonTutor</a>.</p>
<p>One case in which we might need to access a global variable from
within a function is when the global variable is some kind of fixed
constant or configuration.  For example, an anagram finder might
depend on a file that holds a list of dictionary words.  We do not
want to bury the name of that file inside some function.  We might
instead define it near the beginning of the program as a <em>global
constant</em>, like the variable <code class="docutils literal notranslate"><span class="pre">DICT</span></code> in the Jumbler project:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DICT</span> <span class="o">=</span> <span class="s2">&quot;shortdict.txt&quot;</span>    <span class="c1"># Short version for testing &amp; debugging</span>
<span class="c1"># DICT = &quot;dict.txt&quot;       # Full dictionary word list</span>

<span class="c1"># ... other code ... </span>

<span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="n">anagram</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Print words in DICT that match anagram.</span>
<span class="sd">    ... test cases here ... </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dict_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">DICT</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> 
    <span class="c1">#  Reference to DICT is better than burying</span>
    <span class="c1">#  the configuration setting here in the function.</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">dict_file</span><span class="p">:</span>
          <span class="n">word</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
          <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="n">anagram</span><span class="p">:</span>
              <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</pre></div>
</div>
<p>Note the Python convention of using all upper case letters to make it
clear to readers of this code that <code class="docutils literal notranslate"><span class="pre">DICT</span></code> is a global variable.</p>
<p>Very rarely we might need to update a global variable from within a
function.  This is quite unusual, and never something to be done
without first considering alternatives.  One of those rare cases is
when for some reason we need to keep a count of how many times a
function has been called.  We cannot keep the count in a variable
that is local to the function, because then the local variable would
disappear after each call.  A new variable would be created each
time the function is called.   This code will not even work:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">count_foo</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">foo</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> 
  <span class="sd">&quot;&quot;&quot;This will not work!&quot;&quot;&quot;</span>
  <span class="n">count_foo</span> <span class="o">=</span> <span class="n">count_foo</span> <span class="o">+</span> <span class="mi">1</span>
  <span class="k">return</span> <span class="n">count_foo</span>
  
<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">UnboundLocalError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="nn">Input In [8],</span> in <span class="ni">&lt;cell line: 8&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>   <span class="n">count_foo</span> <span class="o">=</span> <span class="n">count_foo</span> <span class="o">+</span> <span class="mi">1</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>   <span class="k">return</span> <span class="n">count_foo</span>
<span class="ne">----&gt; </span><span class="mi">8</span> <span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">())</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">())</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> <span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">())</span>

<span class="nn">Input In [8],</span> in <span class="ni">foo</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="k">def</span> <span class="nf">foo</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> 
<span class="g g-Whitespace">      </span><span class="mi">4</span>   <span class="sd">&quot;&quot;&quot;This will not work!&quot;&quot;&quot;</span>
<span class="ne">----&gt; </span><span class="mi">5</span>   <span class="n">count_foo</span> <span class="o">=</span> <span class="n">count_foo</span> <span class="o">+</span> <span class="mi">1</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>   <span class="k">return</span> <span class="n">count_foo</span>

<span class="ne">UnboundLocalError</span>: local variable &#39;count_foo&#39; referenced before assignment
</pre></div>
</div>
</div>
</div>
<p>What happened here?  While we may have intended to access the global
variable <code class="docutils literal notranslate"><span class="pre">count_foo</span></code> from within <code class="docutils literal notranslate"><span class="pre">foo</span></code>, we did not. Because there is
an assignment to <code class="docutils literal notranslate"><span class="pre">count_foo</span></code>, Python has created a local variable
<code class="docutils literal notranslate"><span class="pre">count_foo</span></code>.  It has the same name, but it is not the same variable,
because it is in the namespace (scope) of the execution of function
<code class="docutils literal notranslate"><span class="pre">foo</span></code>.  When Python attempts to evaluate <code class="docutils literal notranslate"><span class="pre">count_foo</span> <span class="pre">+</span> <span class="pre">1</span></code>, it
references  the local variable <code class="docutils literal notranslate"><span class="pre">count_foo</span></code> and finds that it does not
yet have a value. Hence the “UnboundLocalError”.</p>
<p>If we really, really wanted to reference and change a global
variable, Python will allow us to <em>explicitly</em> declare that it is
the global variable <code class="docutils literal notranslate"><span class="pre">count_foo</span></code> we want to refer to, and not a new
local variable with the same name.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">count_foo</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">def</span> <span class="nf">foo</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;This will work.  That doesn&#39;t make it a good idea.&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">count_foo</span>
    <span class="n">count_foo</span> <span class="o">=</span> <span class="n">count_foo</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">count_foo</span>
  
<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
2
3
</pre></div>
</div>
</div>
</div>
<p>If you are reading online, you can
<a class="reference external" href="https://pythontutor.com/render.html#code=count_foo%20%3D%200%0A%0Adef%20foo%28%29%20-%3E%20int%3A%20%0A%20%20%20%20%22%22%22This%20will%20work.%20%20That%20doesn%27t%20make%20it%20a%20good%20idea.%22%22%22%0A%20%20%20%20global%20count_foo%0A%20%20%20%20count_foo%20%3D%20count_foo%20%2B%201%0A%20%20%20%20return%20count_foo%0A%20%20%0Aprint%28foo%28%29%29%0Aprint%28foo%28%29%29%0Aprint%28foo%28%29%29&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false">trace it in PythonTutor</a>.</p>
</section>
<section id="hygiene-and-pragmatics">
<h3>Hygiene and pragmatics<a class="headerlink" href="#hygiene-and-pragmatics" title="Permalink to this headline">#</a></h3>
<p>Even in this section devoted to the basic mechanics of defining and
calling functions, it has been difficult to completely avoid talking
about <em>good</em> and <em>bad</em> approaches.  The
<a class="reference internal" href="intro.html#document-02-Functions/02-03-Hygiene"><span class="doc std std-doc">next section</span></a>
takes up hygiene of function design in more depth.<br />
Instructions for <a class="reference external" href="https://github.com/UO-CS210/pi">our project</a>
discusses pragmatics of choosing parts of the code to decompose into
functions.</p>
</section>
<section id="terminology">
<h3>Terminology<a class="headerlink" href="#terminology" title="Permalink to this headline">#</a></h3>
<p>The many terms like <em>scope</em> and <em>frame</em> can be confusing, especially
since you will encounter different names for the same or closely
related concepts in documentation.  We have provided a brief
<a class="reference internal" href="intro.html#document-02-Functions/02-04-Terms"><span class="doc std std-doc">terminology review</span></a> to help you sort them out.</p>
</section>
</section>
<span id="document-02-Functions/02-03-Hygiene"></span><section class="tex2jax_ignore mathjax_ignore" id="function-hygiene-in-python">
<h2>Function Hygiene in Python<a class="headerlink" href="#function-hygiene-in-python" title="Permalink to this headline">#</a></h2>
<section id="function-headers-and-docstrings">
<h3>Function headers and docstrings<a class="headerlink" href="#function-headers-and-docstrings" title="Permalink to this headline">#</a></h3>
<p>Consider again the <code class="docutils literal notranslate"><span class="pre">abs_diff</span></code> function defined in the prior chapter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">abs_diff</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Absolute value of the difference between x and y.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">:</span> 
        <span class="k">return</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="k">return</span> <span class="n">y</span> <span class="o">-</span> <span class="n">x</span>
</pre></div>
</div>
</div>
</div>
<p>The name of the new function will be <code class="docutils literal notranslate"><span class="pre">abs_diff</span></code>.  Following
<a class="reference external" href="https://peps.python.org/pep-0008/">Python naming conventions</a>, it
is made of lower case letters (no capital letters), with parts
separated by underscore (”<code class="docutils literal notranslate"><span class="pre">_</span></code>”).<br />
The triple-quoted string immediately following the function header
is the <em>docstring comment</em>.</p>
</section>
<section id="names-matter">
<h3>Names matter<a class="headerlink" href="#names-matter" title="Permalink to this headline">#</a></h3>
<p>We have chosen
<code class="docutils literal notranslate"><span class="pre">abs_diff</span></code> rather than <code class="docutils literal notranslate"><span class="pre">absolute_difference</span></code> to keep it short.
We have not shortened it further to <code class="docutils literal notranslate"><span class="pre">a_d</span></code>, nor chosen an arbitrary
name like <code class="docutils literal notranslate"><span class="pre">theta</span></code>, because it is important for the name to be
mnemonic and suggestive of its purpose.</p>
<p>How long is long enough?  How descriptive must a name be?
Kernighan and Plauger provide nuanced and pragmatic guidance to
naming in their classic book
<a class="reference external" href="https://en.wikipedia.org/wiki/The_Elements_of_Programming_Style"><em>The Elements of Program Style</em></a>.
Although the original version of that book uses examples from older
programming languages that you may never encounter, the essential
principles remain valid.  One of these is that distinctiveness
(avoiding names that can be confused with each other) is paramount.
For example, <code class="docutils literal notranslate"><span class="pre">hours_weekday_worked</span></code> and <code class="docutils literal notranslate"><span class="pre">hours_weekend_worked</span></code> are a
bad pair, because they are distinguished only by middle words
that look similar.  <code class="docutils literal notranslate"><span class="pre">weekend_hours</span></code> and
<code class="docutils literal notranslate"><span class="pre">weekday_hours</span></code>, or even <code class="docutils literal notranslate"><span class="pre">wkend_hours</span></code> and <code class="docutils literal notranslate"><span class="pre">wkday_hours</span></code>, are
easier to distinguish because their differences are more
prominent.</p>
<p>A second principle, which
like distinctiveness is rooted in properties of human memory, is
that a name which is defined in one place and then referenced far
away needs to be more descriptive than a name
that is defined and
then used just once nearby (e.g., within the span of code that is
likely to be visible on the same screen of text).</p>
</section>
<section id="arguments">
<h3>Arguments<a class="headerlink" href="#arguments" title="Permalink to this headline">#</a></h3>
<p>Function <code class="docutils literal notranslate"><span class="pre">abs_diff</span></code> has two <em>arguments</em>, also called <em>formal
parameters</em>, <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>, and returns a single
<code class="docutils literal notranslate"><span class="pre">int</span></code> value.  This information comprises the <em>signature</em> of
function <code class="docutils literal notranslate"><span class="pre">abs_diff</span></code>, which is <em>(int, int) -&gt; int</em>.  This is enough
to tell us that <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">abs_diff(5,</span> <span class="pre">7)</span></code> is a legal assignment that
assigns an <code class="docutils literal notranslate"><span class="pre">int</span></code> value to <code class="docutils literal notranslate"><span class="pre">x</span></code>, but <code class="docutils literal notranslate"><span class="pre">abs_diff(&quot;cats&quot;,</span> <span class="pre">&quot;dogs&quot;)</span></code> is
an error, as is <code class="docutils literal notranslate"><span class="pre">abs_diff(3,</span> <span class="pre">2)</span> <span class="pre">+</span> <span class="pre">&quot;turtles&quot;</span></code>.</p>
<p>Less obviously, <code class="docutils literal notranslate"><span class="pre">abs_diff(3.2,</span> <span class="pre">5.4)</span></code> is a programming error, even
though it will return 2.2.  This is because the header of a function
together with its docstring
is a contract between the author of the function and anyone
who calls that function (even if they are the same person).  Passing
a floating point number like 3.2 to <code class="docutils literal notranslate"><span class="pre">abs_diff</span></code> breaks that contract.</p>
<p>Why do we care about this “contract”, if the code works?
Because the contract determines what the author of
the function is permitted to change without notice.  Calling a
function in a way that violates the contract might work today, but
fail sometime later when the author of the function makes a
perfectly acceptable change to the body of the function.  The user
of a function must only rely on the contract as given in the
function header and docstring.  This applies even if the author and
the user are the same programmer!  It is all too easy to make a
small and seemingly harmless change to one part of a program and
accidentally break a completely different part because of some
forgotten dependency.</p>
</section>
<section id="information-hiding">
<h3>Information hiding<a class="headerlink" href="#information-hiding" title="Permalink to this headline">#</a></h3>
<p>We treat the body of the function as
if it were invisible to the programmer who writes calls to that
function, and subject to change without notice, even if it is the same
programmer.  This is called <em>information hiding</em>.
Students and beginning programmers often find <em>information hiding</em>
unintuitive and bothersome.  Understandably so, because as a
beginner they write most code individually, and seldom work on the
same project for more than a few weeks.  This is apt to change as
you tackle larger and more complex projects.</p>
<p>The software systems
that matter to people are typically collaborative or change hands
over time, and they last much longer than you might imagine.  Even
the original developer of a function will find themselves
essentially an outsider when they return to it after a few months
working on other parts of an application.</p>
<p>There is another reason for clear, simple contracts and information
hiding.  Programs are written by humans.  Human brains are amazing,
but one thing they do not do well is maintain a large number of
details in working memory.</p>
<p>We solve complex problems by decomposing
them into smaller problems, then composing simple solutions of
sub-problems to solve the overall problem.  This is <em>only</em> possible
if we can ignore and abstract away details of some of the
sub-problems while working on other parts.   If we need to
understand <em>how</em> a function works to understand <em>what</em> it does,
we can’t suppress that detail in any part of the program that uses
the function.  Information hiding is an essential tool for
controlling complexity by giving us permission to ignore most
details most of the time, focusing in on just a few at a time.</p>
</section>
<section id="docstrings">
<h3>Docstrings<a class="headerlink" href="#docstrings" title="Permalink to this headline">#</a></h3>
<p>As useful as the <em>signature</em> of a function is in telling us what
kind of values we can pass to it and what kind of value we can
expect back from it, the signature alone cannot tell us everything
we need to know.  The name can help, but it’s not enough:  We can
guess that <code class="docutils literal notranslate"><span class="pre">abs_diff</span></code> probably does not give us the sum or the
product of its arguments, but the docstring comment immediately
following the function header gives us a more complete description.</p>
<p>The Python interpreter makes the
docstring comment available through its built-in help system:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">abs_diff</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on function abs_diff in module __main__:

abs_diff(x: int, y: int) -&gt; int
    Absolute value of the difference between x and y.
</pre></div>
</div>
</div>
</div>
<p>As with choosing names, writing docstring comments that are clear
but concise is an art that requires care and practice.</p>
</section>
<section id="argument-names">
<h3>Argument names<a class="headerlink" href="#argument-names" title="Permalink to this headline">#</a></h3>
<p>What about those formal argument names, <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>?  Should they be
longer?  Would it help?  If there were particular meanings
associated with them (e.g., if the first argument should be a height
in centimeters and second should be an angle in degrees), then <code class="docutils literal notranslate"><span class="pre">x</span></code>
and <code class="docutils literal notranslate"><span class="pre">y</span></code> would be poor names.   Consider the following function,
in which longer names are needed:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">relative_error</span><span class="p">(</span><span class="n">est</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">expected</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Relative error of estimate (est) as non-negative fraction </span>
<span class="sd">    of expected value.</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>Here the formal parameters are <code class="docutils literal notranslate"><span class="pre">est</span></code> (for estimate) and <code class="docutils literal notranslate"><span class="pre">expected</span></code>
(for expected value, i.e., for the value that <code class="docutils literal notranslate"><span class="pre">est</span></code> should be close
to).   These have been chosen to be <em>mnemonic</em>.  You can probably
guess that <code class="docutils literal notranslate"><span class="pre">est</span></code> means “estimate” even without context.  Without
context it is less likely that you would guess that <code class="docutils literal notranslate"><span class="pre">expected</span></code> means
“the value we expected to get”, but in the context of a function
called <code class="docutils literal notranslate"><span class="pre">relative_error</span></code> it is clear.</p>
<p>These formal parameters are not interchangeable;
<code class="docutils literal notranslate"><span class="pre">relative_error(3.5,</span> <span class="pre">3.8)</span></code> will
not give the same result as <code class="docutils literal notranslate"><span class="pre">relative_error(3.8,</span> <span class="pre">3.5)</span></code>.  If we give
them meaningless names like <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>, we are likely to reverse
them and get the wrong answers.  Ambiguous names would be dangerous
in that case!   In the case of <code class="docutils literal notranslate"><span class="pre">abs_diff</span></code>, on the other hand, <code class="docutils literal notranslate"><span class="pre">x</span></code>
and <code class="docutils literal notranslate"><span class="pre">y</span></code> are just numbers, nothing more, which is what their generic
names communicate.</p>
<p>Names that are distinguished only by suffixes, like <code class="docutils literal notranslate"><span class="pre">v1</span></code>, <code class="docutils literal notranslate"><span class="pre">v2</span></code>, <code class="docutils literal notranslate"><span class="pre">v3</span></code>,
etc., are never acceptable, because they are too easy to confuse.
Arbitrary names like your favorite colors or your pets are also not
acceptable, even for generic values for which <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> would be
acceptable, because they falsely <em>appear</em> to have some meaning.</p>
</section>
<section id="results-effects-and-side-effects">
<h3>Results, effects, and side effects<a class="headerlink" href="#results-effects-and-side-effects" title="Permalink to this headline">#</a></h3>
<p>A function should normally <em>either</em> return a well-documented result
<em>or</em> have some well-documented effect on the arguments it is passed,
but not both. For example, here is a function that returns a list
containing just the positive elements from a list of integers:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">select_pos</span><span class="p">(</span><span class="n">m</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Returns a list of the positive elements from m.&quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">m</span><span class="p">:</span> 
        <span class="k">if</span> <span class="n">el</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
    
<span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">li_selection</span> <span class="o">=</span> <span class="n">select_pos</span><span class="p">(</span><span class="n">li</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;li after selection is </span><span class="si">{</span><span class="n">li</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;selection is </span><span class="si">{</span><span class="n">li_selection</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>li after selection is [1, 0, 2, 0, 3, 0]
selection is [1, 2, 3]
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">select_pos</span></code> is ok … it returns a well-documented result and it
does not have effects on anything outside its local scope.
We could also write a function that appends the positive elements of
one list to another:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">append_pos</span><span class="p">(</span><span class="n">src</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">dest</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Positive elements of src are appended to dest.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">src</span><span class="p">:</span> 
        <span class="k">if</span> <span class="n">el</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">dest</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
    
<span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">li_selection</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">append_pos</span><span class="p">(</span><span class="n">li</span><span class="p">,</span> <span class="n">li_selection</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;li after selection is </span><span class="si">{</span><span class="n">li</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;li_selection is </span><span class="si">{</span><span class="n">li_selection</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>li after selection is [1, 0, 2, 0, 3, 0]
li_selection is [1, 2, 3]
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">append_pos</span></code> is also ok … it has a well-documented effect, and it
does not return a result.  (Technically it returns a special value
called <code class="docutils literal notranslate"><span class="pre">None</span></code>.)</p>
<p>We generally avoid creating functions or methods that both
return a result <em>and</em> have a result. It is easier to understand just
one or the other. For example, the built-in
function <code class="docutils literal notranslate"><span class="pre">sorted</span></code> returns a sorted list without changing the list it
is given, while the list method <code class="docutils literal notranslate"><span class="pre">sort</span></code> puts the list into sorted
order but does not return a result.
In the rare cases that doing both makes a program
significantly shorter, clearer, or faster, we must document that
combination particularly well. A rare example of a built-in method
that has both an effect and a result is the <code class="docutils literal notranslate"><span class="pre">list</span></code> method <code class="docutils literal notranslate"><span class="pre">pop</span></code>,
which both removes an item from the list and returns it.</p>
</section>
<section id="side-effects">
<h3>Side effects<a class="headerlink" href="#side-effects" title="Permalink to this headline">#</a></h3>
<p>When a function or method affects something <em>other than</em> its
arguments or the object on which a method is called, it is called a
<em>side effect</em>.  Side effects make it easy to create program bugs and
hard to find and correct them. One case where side effects may be
justifiable is in output, e.g., printing something, logging
something to a file, or presenting a graphic.  The more <em>obvious</em>
and <em>well-documented</em> such a side effect is, the less chance it will
lead to a frustrating debugging session as unexpected effects seem
to come from nowhere.</p>
</section>
<section id="summary-of-function-hygiene-guidelines">
<h3>Summary of function hygiene guidelines<a class="headerlink" href="#summary-of-function-hygiene-guidelines" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>Make the function header and docstring a <em>contract</em> between the
author and user of the function.  The user should not depend on
details of the body of the function, or even have to read the body
of the function to know how to use it correctly.</p></li>
<li><p>Use names that are sufficiently clear and distinct.  They don’t
have to be long, but they must be understandable in the context in
which they will be used.</p></li>
<li><p>Generic names like <code class="docutils literal notranslate"><span class="pre">x</span></code> are ok only for
generic purposes like “some number”, never for something specific
like “the number of sides of the polygon.”  The names of your pets
or siblings are only acceptable if the program computing something
about your pets or siblings.</p></li>
<li><p>A function (or method) should <em>either</em> return a result <em>or</em> have
an effect.  Very seldom should a function or method have both an
effect and a result, and those rare cases must be carefully
documented.</p></li>
<li><p>Side effects are particularly dangerous.  Avoid them when
practical, and particularly avoid side effects that could go
unnoticed, unless you love long and confusing debugging sessions.</p></li>
<li><p>You may be tempted to ignore these guidelines because you will be
the only user of the functions you write.  The you of next week
will be angry at the you of this week if you do.</p></li>
</ul>
</section>
</section>
<span id="document-02-Functions/02-04-Terms"></span><section class="tex2jax_ignore mathjax_ignore" id="review-of-terms">
<h2>Review of terms<a class="headerlink" href="#review-of-terms" title="Permalink to this headline">#</a></h2>
<p>Terminology of functions and scopes can be confusing, because there
are many different terms commonly used for the same or almost the
same concept … even in the Python documentation.</p>
<section id="scope-namespace-frame-symbol-table">
<h3>Scope, namespace, frame, symbol table<a class="headerlink" href="#scope-namespace-frame-symbol-table" title="Permalink to this headline">#</a></h3>
<p>A <em>namespace</em> may also be called a <em>symbol table</em> or a <em>frame</em>.<br />
These terms are not quite identical (a <em>frame</em> is really a
structure inside the Python interpreter used to implement a
<em>namespace</em>), but they are so closely related that you can treat
them as synonyms.</p>
<p>The term <em>scope</em> is also almost
interchangeable with <em>namespace</em>, except “local scope” means
“the namespace of the currently executing function.”  There is
always exactly one “local” scope and one “global” scope, while there
may be many namespaces that are temporarily inaccessible.</p>
<p>Every frame implements a namespace, which may be the local scope or
global scope.  Outside of any function, the local scope and the
global scope may be the same namespace.</p>
<p>The technical distinctions may matter
to you someday if you build your own programming language interpreter.<br />
For now you can treat <em>namespace</em>, <em>scope</em>, and <em>frame</em>
as synonyms.</p>
</section>
<section id="local-and-global-variables">
<h3>Local and global variables<a class="headerlink" href="#local-and-global-variables" title="Permalink to this headline">#</a></h3>
<p>A <em>local variable</em> is a variable in the namespace (scope) of a
function, accessible only when that function is executing.  A
<em>global variable</em> is a variable defined in the global namespace,
which may also be accessible from within functions.</p>
</section>
<section id="formal-and-actual-arguments-parameters">
<h3>Formal and actual arguments (parameters)<a class="headerlink" href="#formal-and-actual-arguments-parameters" title="Permalink to this headline">#</a></h3>
<p>The terms <em>parameter</em> (<em>formal parameter</em> or <em>actual parameter</em>)
and <em>argument</em> (<em>formal argument</em> or <em>actual argument</em>) are
synonymous.  The author of
this chapter looked to the Python documentation to see which term
was standard in Python.  The disappointing answer was “both”.</p>
<p>It could be
confusing to pair “formal parameter” with “actual argument”, so we will
try to be consistent in preferring “argument” in both contexts.
Occasionally we will use both terms, since you will often encounter
“formal parameter” in other documentation.<br />
Sometimes we will mess up … let us know so we can fix
inconsistencies in this text.</p>
<p>When we use the term <em>argument</em> in the context of defining a
function, we mean <em>formal argument</em>, that is, the name that will be
used within the function body.  When we use
the term <em>argument</em> in the context of calling a function, we mean
<em>actual argument</em>, that is, the value transmitted to the function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>  <span class="c1"># a is a formal argument</span>
    <span class="sd">&quot;&quot;&quot;Does nothing&quot;&quot;&quot;</span>
    <span class="k">pass</span>

<span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>      <span class="c1"># x is an actual argument</span>
</pre></div>
</div>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-03-Collections-Loops/03-01-Collections"></span><section class="tex2jax_ignore mathjax_ignore" id="collections-and-loops">
<h2>Collections and Loops<a class="headerlink" href="#collections-and-loops" title="Permalink to this headline">#</a></h2>
<p>We have already introduced lists and basic loops, including loops
that read each line in a file.  In this chapter we will revisit
those basics and dig a little deeper.  We will look at
collections including lists, tuples, and dictionaries.
We will introduce some additional
operations, and especially we will examine ways of looping through
collections.</p>
<section id="collection-basics">
<h3>Collection basics<a class="headerlink" href="#collection-basics" title="Permalink to this headline">#</a></h3>
<p>A <em>collection type</em> (or <em>collection class</em>) is a kind of data that
can contain other data as elements.  For example, <code class="docutils literal notranslate"><span class="pre">[&quot;alpha&quot;,</span> <span class="pre">&quot;beta&quot;,</span>&#160; <span class="pre">&quot;gamma&quot;]</span></code> is a list of strings (<code class="docutils literal notranslate"><span class="pre">str</span></code>), while <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code> is a list of
integers (<code class="docutils literal notranslate"><span class="pre">int</span></code>).</p>
<p>In general a collection type will have:</p>
<ul class="simple">
<li><p>A syntax for <em>literals</em>, i.e., a way to write down a value and
indicate that we intend a collection of a certain kind.  For
example, if we write <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code>, Python will interpret it as a
list of integers, while if we write <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">2,</span> <span class="pre">3)</span></code> Python will
interpret it as a tuple of integers.</p></li>
<li><p>Operations for building or extending values.  For example, if we
have a list <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3]</span></code>, then <code class="docutils literal notranslate"><span class="pre">m.append(17)</span></code> will make the new
value of <code class="docutils literal notranslate"><span class="pre">m</span></code> be <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">17]</span></code>.</p></li>
<li><p>Operations for accessing individual elements.  For example, we can
<em>index</em> a list.  If <code class="docutils literal notranslate"><span class="pre">m</span></code> is <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">17]</span></code>, then <code class="docutils literal notranslate"><span class="pre">m[0]</span></code> is 1 and
<code class="docutils literal notranslate"><span class="pre">m[2]</span></code> is 3.</p></li>
<li><p>A way of <em>iterating</em> (looping) through the elements of the
collection.</p></li>
</ul>
<p>For a complete list and detailed description of these features for
all the standard collection types in Python, refer to the
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html">Python library documentation</a>.
In this chapter we will cover just some basics.</p>
</section>
<section id="lists">
<h3>Lists<a class="headerlink" href="#lists" title="Permalink to this headline">#</a></h3>
<p>A list (type <code class="docutils literal notranslate"><span class="pre">list</span></code>) holds a sequence of elements.  The elements can
be any other kind of value, including integers and strings but also
other collections including lists.</p>
<p>To write a literal list value, we use square brackets, e.g.,
<code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;,</span> <span class="pre">&quot;c&quot;]</span></code>.</p>
<p>We can add an element to the end of a list with the <code class="docutils literal notranslate"><span class="pre">append</span></code> method.
Here’s another way to create the value <code class="docutils literal notranslate"><span class="pre">[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;,</span> <span class="pre">&quot;c&quot;]</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;c&quot;</span><span class="p">)</span>
<span class="n">m</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]
</pre></div>
</div>
</div>
</div>
<p>The elements of a list have <em>indexes</em>, or positions, starting with
zero.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>a
c
</pre></div>
</div>
</div>
</div>
<p>Suppose instead we have <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">[[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;],</span> <span class="pre">[&quot;c&quot;,</span> <span class="pre">&quot;d&quot;]]</span></code>.  Now <code class="docutils literal notranslate"><span class="pre">m</span></code> is
a list of lists of strings.  Now <code class="docutils literal notranslate"><span class="pre">m[1]</span></code> is <code class="docutils literal notranslate"><span class="pre">[&quot;c&quot;,</span> <span class="pre">&quot;d&quot;]</span></code>.  If we
wanted to access the first element of the second sublist, we can
write <code class="docutils literal notranslate"><span class="pre">m[1][0]</span></code> to first index <code class="docutils literal notranslate"><span class="pre">m</span></code> to get <code class="docutils literal notranslate"><span class="pre">[&quot;c&quot;,</span> <span class="pre">&quot;d&quot;]</span></code> and then
index <code class="docutils literal notranslate"><span class="pre">[&quot;c&quot;,</span> <span class="pre">&quot;d&quot;]</span></code> to get <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">]]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>c
</pre></div>
</div>
</div>
</div>
<p>We can determine how many elements are in <code class="docutils literal notranslate"><span class="pre">m</span></code> with <code class="docutils literal notranslate"><span class="pre">len(m)</span></code>.  Note
that even if a list contains other lists, <code class="docutils literal notranslate"><span class="pre">len</span></code> counts each element
just once (not elements of the sublists).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">m</span><span class="p">))</span>
<span class="n">r</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">]]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
2
</pre></div>
</div>
</div>
</div>
<p>There are two main ways to iterate (loop) through the values of a
list.  The simplest is the way we will use most often:  We can ask a
<code class="docutils literal notranslate"><span class="pre">for</span></code> loop to iterate through the elements of the list, like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;three&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">m</span><span class="p">:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="c1"># or do anything else with s in the body of the loop</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>one
two
three
</pre></div>
</div>
</div>
</div>
<p>Later we will use other approaches, usually because we need to know
the position (index) of each element in addition to its value.  In
that case we might write something like</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">s_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">m</span><span class="p">)):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="n">s_i</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s_i</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0 one
1 two
2 three
</pre></div>
</div>
</div>
</div>
<p>In the code snippet above, we have used an arbitrary variable name
<code class="docutils literal notranslate"><span class="pre">s</span></code> for elements of <code class="docutils literal notranslate"><span class="pre">m</span></code>.  In an application, we would try to use a
more meaningful name.  We are also free to choose the name of the
index variable.  Python does not require that they be related at all.
I have chosen <code class="docutils literal notranslate"><span class="pre">s_i</span></code> to suggest that it is the <em>index for <code class="docutils literal notranslate"><span class="pre">s</span></code></em>.  You
are not required to use such a convention, but in general it is a
good idea to help a reader of your code see the meanings and
relationships among your variables.</p>
<p>What if we have <em>nested lists</em>, i.e., lists within lists?  They
often call for <em>nested loops</em>, loops within loops.  Suppose for
example we have <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">[[&quot;a&quot;,</span> <span class="pre">&quot;b&quot;],</span> <span class="pre">[&quot;c&quot;,</span> <span class="pre">&quot;d&quot;]]</span></code>.  We often think of
such nested lists as a grid or matrix in which each sublist is a row:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>“a”</p></td>
<td><p>“b”</p></td>
</tr>
<tr class="row-odd"><td><p>“c”</p></td>
<td><p>“d”</p></td>
</tr>
</tbody>
</table>
<p>If we wanted to
print all the strings in the sub-lists of <code class="docutils literal notranslate"><span class="pre">m</span></code>, we might write
something like</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">]]</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">m</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>a
b
c
d
</pre></div>
</div>
</div>
</div>
<p>This order of access is called <em>row-major order</em>.
We might wonder whether we
can iterate through <code class="docutils literal notranslate"><span class="pre">m</span></code> in <em>column-major order</em>, i.e., down the
first column and then down the second column.  We can, but
it’s a little more complex:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">col_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>
    <span class="k">for</span> <span class="n">row_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">m</span><span class="p">)):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row_index</span><span class="p">,</span> <span class="n">col_index</span><span class="p">,</span> <span class="n">m</span><span class="p">[</span><span class="n">row_index</span><span class="p">][</span><span class="n">col_index</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0 0 a
1 0 c
0 1 b
1 1 d
</pre></div>
</div>
</div>
</div>
<p>Of course, this approach to looping in column major order works only
if the matrix is <em>rectangular</em>, i.e., if every row (sub-list) has
the same length.  It will also not work for a matrix with zero rows.</p>
</section>
<section id="tuples">
<h3>Tuples<a class="headerlink" href="#tuples" title="Permalink to this headline">#</a></h3>
<p>The term “tuple” comes from generalizing doubles (pairs),
triples, quadruples, quintuples, etc., i.e., sequences of some fixed
size.  Tuples are very similar to lists, but they
are <em>immutable</em>.  We can
create new tuples based on the contents of other tuples, but we
cannot change the value or length of a tuple.</p>
<p>To write a literal tuple value, we separate them by commas, usually
in parentheses:</p>
<p><code class="docutils literal notranslate"><span class="pre">(&quot;a&quot;,</span> <span class="pre">&quot;b&quot;,</span> <span class="pre">&quot;c&quot;)</span></code>.</p>
<p>We <em>cannot</em> add elements to the end of a tuple, or anywhere else.<br />
They are <em>immutable</em>.</p>
<p>While the elements of a tuple have <em>indexes</em> like the elements of a
list, and can be accessed in the same manner, we more typically access
tuple elements by <em>destructuring</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">character</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Wesley&quot;</span><span class="p">,</span> <span class="s2">&quot;Dread pirate Roberts&quot;</span><span class="p">,</span> <span class="s2">&quot;As you wish&quot;</span><span class="p">)</span>
<span class="n">name</span><span class="p">,</span> <span class="n">alias</span><span class="p">,</span> <span class="n">phrase</span> <span class="o">=</span> <span class="n">character</span>
<span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Wesley
Dread pirate Roberts
As you wish
</pre></div>
</div>
</div>
</div>
<p>In principle we could loop through tuples in all the ways we loop
through lists.  In practice that is rare.  Because tuples can never
change after they have been created, destructuring is usually more
appropriate, even for nested tuples:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pdx</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Portland International&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mf">45.589</span><span class="p">,</span><span class="o">-</span><span class="mf">122.596</span><span class="p">))</span>
<span class="n">name</span><span class="p">,</span> <span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">)</span> <span class="o">=</span> <span class="n">pdx</span>
<span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lat</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lon</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Portland International
45.589
-122.596
</pre></div>
</div>
</div>
</div>
</section>
<section id="dictionaries">
<h3>Dictionaries<a class="headerlink" href="#dictionaries" title="Permalink to this headline">#</a></h3>
<p>While lists and tuples represent sequences, dictionaries (type <code class="docutils literal notranslate"><span class="pre">dict</span></code>)
represent <em>associations</em> between a set of <em>keys</em> and a set of
<em>values</em>.   We can think of them as “lookup tables”.  For example,
we might have a <code class="docutils literal notranslate"><span class="pre">dict</span></code> that associates postal abbreviations with the
names of U.S. states:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>WA</p></td>
<td><p>Washington</p></td>
</tr>
<tr class="row-odd"><td><p>OR</p></td>
<td><p>Oregon</p></td>
</tr>
<tr class="row-even"><td><p>CA</p></td>
<td><p>California</p></td>
</tr>
<tr class="row-odd"><td><p>AK</p></td>
<td><p>Alaska</p></td>
</tr>
</tbody>
</table>
<p>We can write a <code class="docutils literal notranslate"><span class="pre">dict</span></code> literal using curly braces and associating
each key to a value with <code class="docutils literal notranslate"><span class="pre">:</span></code>.  We can then “look up” an association
by treating the key as an index.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">state_abbrevs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;WA&quot;</span><span class="p">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span>
    <span class="s2">&quot;OR&quot;</span><span class="p">:</span> <span class="s2">&quot;Oregon&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;CA&quot;</span><span class="p">:</span> <span class="s2">&quot;California&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;AK&quot;</span><span class="p">:</span> <span class="s2">&quot;Arkansas&quot;</span>
    <span class="p">}</span>
    
<span class="n">or_state</span> <span class="o">=</span> <span class="n">state_abbrevs</span><span class="p">[</span><span class="s2">&quot;OR&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">or_state</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Oregon
</pre></div>
</div>
</div>
</div>
<p>We can add a new (key, value) pair to a <code class="docutils literal notranslate"><span class="pre">dict</span></code> using the key as an
index.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">state_abbrevs</span><span class="p">[</span><span class="s2">&quot;NV&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Nevada&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>The keys in a <code class="docutils literal notranslate"><span class="pre">dict</span></code> are unique.  If we associate a new value with
key, the old (key, value) association is replaced.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">state_abbrevs</span><span class="p">[</span><span class="s2">&quot;AK&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Alaska&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">state_abbrevs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">state_abbrevs</span><span class="p">[</span><span class="s2">&quot;AK&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;WA&#39;: &#39;Washington&#39;, &#39;OR&#39;: &#39;Oregon&#39;, &#39;CA&#39;: &#39;California&#39;, &#39;AK&#39;: &#39;Alaska&#39;, &#39;NV&#39;: &#39;Nevada&#39;}
Alaska
</pre></div>
</div>
</div>
</div>
<p>The values in a <code class="docutils literal notranslate"><span class="pre">dict</span></code> can be any data type, but the keys must be
<em>hashable</em>, which in practice means that you should use <em>immutable</em>
values as dictionary keys.  While we most often use strings as
dictionary keys, integers and tuples are also acceptable.  Lists
cannot be dictionary keys.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">good_dict</span> <span class="o">=</span> <span class="p">{</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Alpha&quot;</span><span class="p">):</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;Beta&quot;</span><span class="p">):</span> <span class="s2">&quot;B&quot;</span> <span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">good_dict</span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;Beta&quot;</span><span class="p">)])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>B
</pre></div>
</div>
</div>
</div>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bad_dict</span> <span class="o">=</span> <span class="p">{</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Alpha&quot;</span><span class="p">]:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;Beta&quot;</span><span class="p">]:</span> <span class="s2">&quot;B&quot;</span> <span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">bad_dict</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;Beta&quot;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [15],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">bad_dict</span> <span class="o">=</span> <span class="p">{</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Alpha&quot;</span><span class="p">]:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;Beta&quot;</span><span class="p">]:</span> <span class="s2">&quot;B&quot;</span> <span class="p">}</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="nb">print</span><span class="p">(</span><span class="n">bad_dict</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;Beta&quot;</span><span class="p">]])</span>

<span class="ne">TypeError</span>: unhashable type: &#39;list&#39;
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">in</span></code> operation tests whether a <code class="docutils literal notranslate"><span class="pre">dict</span></code> contains a key:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="s2">&quot;TX&quot;</span> <span class="ow">in</span> <span class="n">state_abbrevs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">state_abbrevs</span><span class="p">[</span><span class="s2">&quot;TX&quot;</span><span class="p">])</span>
<span class="k">else</span><span class="p">:</span> 
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;TX expansion not found&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>TX expansion not found
</pre></div>
</div>
</div>
</div>
<p>We cannot directly iterate a <code class="docutils literal notranslate"><span class="pre">dict</span></code>, but we can obtain a list of key
values with the <code class="docutils literal notranslate"><span class="pre">keys</span></code> method or a list of (key, value) pairs
(tuples) with the <code class="docutils literal notranslate"><span class="pre">items</span></code> method of type <code class="docutils literal notranslate"><span class="pre">dict</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">abbrev</span> <span class="ow">in</span> <span class="n">state_abbrevs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">abbrev</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WA
OR
CA
AK
NV
</pre></div>
</div>
</div>
</div>
<p>Since the elements in the list returned by the <code class="docutils literal notranslate"><span class="pre">items</span></code> method are
tuples, it is common to <em>destructure</em> them into separate variables
for each key and value:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">kv_pair</span> <span class="ow">in</span> <span class="n">state_abbrevs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> 
    <span class="n">abbrev</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">kv_pair</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">abbrev</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WA Washington
OR Oregon
CA California
AK Alaska
NV Nevada
</pre></div>
</div>
</div>
</div>
<p>The destructuring can be done right in the <code class="docutils literal notranslate"><span class="pre">for</span></code> statement, like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">abbrev</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">state_abbrevs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">abbrev</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WA Washington
OR Oregon
CA California
AK Alaska
NV Nevada
</pre></div>
</div>
</div>
</div>
</section>
<section id="loops">
<h3>Loops<a class="headerlink" href="#loops" title="Permalink to this headline">#</a></h3>
<section id="counting">
<h4>Counting<a class="headerlink" href="#counting" title="Permalink to this headline">#</a></h4>
<p>A very common programming task is to count elements in a collection.
If we just need to know the size of the collection, in Python we can
use the <code class="docutils literal notranslate"><span class="pre">len</span></code> method, e.g.,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">state_abbrevs</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<p>Often we want to count only elements that satisfy some
condition.  For example, suppose for some reason we wanted to
determine how many elements of a list of strings are state
abbreviations:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">abbrevs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;CO&quot;</span><span class="p">,</span> <span class="s2">&quot;OR&quot;</span><span class="p">,</span> <span class="s2">&quot;WA&quot;</span><span class="p">,</span> <span class="s2">&quot;MD&quot;</span><span class="p">]</span>
<span class="n">states_count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">ab</span> <span class="ow">in</span> <span class="n">abbrevs</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">ab</span> <span class="ow">in</span> <span class="n">state_abbrevs</span><span class="p">:</span>
        <span class="n">states_count</span> <span class="o">=</span> <span class="n">states_count</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">states_count</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<p>Note the pattern:  We initialize the count <em>before</em> the loop,
add to it <em>within</em> the loop, and do something with the result
<em>after</em> the whole loop is complete.</p>
</section>
<section id="counting-multiple-values">
<h4>Counting multiple values<a class="headerlink" href="#counting-multiple-values" title="Permalink to this headline">#</a></h4>
<p>The counting pattern we have considered so far keeps a count of one
thing in a variable.  What if we wanted to keep a count of several
different values?   For example, what if we wanted to know that
<code class="docutils literal notranslate"><span class="pre">['dog',</span> <span class="pre">'dog',</span> <span class="pre">'cat',</span> <span class="pre">'dog',</span> <span class="pre">'cat']</span></code> is three dogs and two cats?
We might not even know that the list will contain only dogs and cats
… someone might have snuck in a squirrel or a marmoset or some
other random animal.  Since we don’t know what values we will
encounter, we can’t create a count variable for each one.  What we
can do, however, is use a <code class="docutils literal notranslate"><span class="pre">dict</span></code> to keep a collection of count
variables.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">animals</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;orca&#39;</span><span class="p">,</span> <span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;cat&#39;</span><span class="p">]</span>
<span class="n">counts</span> <span class="o">=</span> <span class="p">{</span> <span class="p">}</span>
<span class="k">for</span> <span class="n">animal</span> <span class="ow">in</span> <span class="n">animals</span><span class="p">:</span> 
    <span class="k">if</span> <span class="n">animal</span> <span class="ow">in</span> <span class="n">counts</span><span class="p">:</span>
        <span class="n">counts</span><span class="p">[</span><span class="n">animal</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># First time we&#39;ve encountered this one! </span>
        <span class="n">counts</span><span class="p">[</span><span class="n">animal</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">counts</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;dog&#39;: 3, &#39;cat&#39;: 2, &#39;orca&#39;: 1}
</pre></div>
</div>
</div>
</div>
</section>
<section id="summing">
<h4>Summing<a class="headerlink" href="#summing" title="Permalink to this headline">#</a></h4>
<p>To count items, we always add 1 to the count for each item that
satisfies the condition (e.g., items that appear as keys in
<code class="docutils literal notranslate"><span class="pre">state_abbrevs</span></code>).    Summing values is almost the same, except
instead of adding 1 for each item, we add the relevant value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">populations</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Portland&quot;</span><span class="p">:</span>   <span class="mi">641_162</span><span class="p">,</span>
    <span class="s2">&quot;Salem&quot;</span><span class="p">:</span>      <span class="mi">177_723</span><span class="p">,</span>
    <span class="s2">&quot;Eugene&quot;</span><span class="p">:</span>	  <span class="mi">175_096</span><span class="p">,</span>
    <span class="s2">&quot;Gresham&quot;</span><span class="p">:</span>	  <span class="mi">113_103</span><span class="p">,</span>
    <span class="s2">&quot;Hillsboro&quot;</span><span class="p">:</span>  <span class="mi">106_633</span><span class="p">,</span>
    <span class="s2">&quot;Bend&quot;</span><span class="p">:</span>       <span class="mi">102_059</span><span class="p">,</span>
    <span class="s2">&quot;Beaverton&quot;</span><span class="p">:</span>   <span class="mi">98_216</span><span class="p">,</span>
    <span class="s2">&quot;Medford&quot;</span><span class="p">:</span>	   <span class="mi">86_367</span><span class="p">,</span>
    <span class="s2">&quot;Springfield&quot;</span><span class="p">:</span> <span class="mi">62_256</span><span class="p">,</span>
    <span class="s2">&quot;Corvallis&quot;</span><span class="p">:</span>   <span class="mi">59_864</span><span class="p">,</span>
    <span class="s2">&quot;Albany&quot;</span><span class="p">:</span>	   <span class="mi">56_828</span><span class="p">,</span>
    <span class="s2">&quot;Tigard&quot;</span><span class="p">:</span>	   <span class="mi">55_767</span><span class="p">,</span>
    <span class="s2">&quot;Aloha&quot;</span><span class="p">:</span>	   <span class="mi">53_724</span>
<span class="p">}</span>
<span class="n">itinerary</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Eugene&quot;</span><span class="p">,</span> <span class="s2">&quot;Corvallis&quot;</span><span class="p">,</span> <span class="s2">&quot;Albany&quot;</span><span class="p">,</span> <span class="s2">&quot;Salem&quot;</span><span class="p">,</span> <span class="s2">&quot;Hillsboro&quot;</span><span class="p">]</span>

<span class="n">pop_sum</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">town</span> <span class="ow">in</span> <span class="n">itinerary</span><span class="p">:</span>
    <span class="n">pop_sum</span> <span class="o">+=</span> <span class="n">populations</span><span class="p">[</span><span class="n">town</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pop_sum</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>576144
</pre></div>
</div>
</div>
</div>
<p>For either counting or summing, it is idiomatic to use the <code class="docutils literal notranslate"><span class="pre">+=</span></code>
operation to clearly communicate that the purpose of the
incrementing statement.</p>
</section>
<section id="scanning">
<h4>Scanning<a class="headerlink" href="#scanning" title="Permalink to this headline">#</a></h4>
<p>Another common task is to determine whether <em>some</em> or <em>all</em> elements
of a collection satisfy some condition. For example, if we wanted
to determine whether all the towns on an itinerary were included in
a table, we might write:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">all_present</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">for</span> <span class="n">town</span> <span class="ow">in</span> <span class="n">itinerary</span><span class="p">:</span> 
    <span class="k">if</span> <span class="n">town</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">populations</span><span class="p">:</span> 
        <span class="n">all_present</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">break</span>
<span class="nb">print</span><span class="p">(</span><span class="n">all_present</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>The code above illustrates the general pattern to determine a <em>for
all</em> property:</p>
<ul class="simple">
<li><p>Initially we assume the condition is true</p></li>
<li><p>If any element does <em>not</em> satisfy the condition, we conclude the
property is false.  We do not need to look further (so we can
<code class="docutils literal notranslate"><span class="pre">break</span></code> from the loop).</p></li>
<li><p>The final answer is known <em>after</em> the loop body.</p></li>
</ul>
<p>If we write a <em>for all</em> scan as a function, the logic is similar,
but we don’t need an explicit <code class="docutils literal notranslate"><span class="pre">bool</span></code> variable:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">all_in_table</span><span class="p">(</span><span class="n">li</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;True if all elements of li are keys in table&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">li</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">elem</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">table</span><span class="p">:</span> 
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
    
<span class="nb">print</span><span class="p">(</span><span class="n">all_in_table</span><span class="p">(</span><span class="n">itinerary</span><span class="p">,</span> <span class="n">populations</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>In this version of the <em>for all</em> scan, an early <code class="docutils literal notranslate"><span class="pre">return</span></code> takes the
place of the <code class="docutils literal notranslate"><span class="pre">break</span></code> from the loop, and the final <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">True</span></code>
takes the place of initializing a <code class="docutils literal notranslate"><span class="pre">bool</span></code> variable to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>We can also scan to determine whether <em>any</em> elements in a
collection satisfy a condition.  In terms of mathematical logic,
we would call this a <em>there exists</em> scan.
Suppose we want to know whether at
least one
of the towns on our itinerary are among the most populous cities in
Oregon, which are listed in our population table.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reach_big_city</span> <span class="o">=</span> <span class="kc">False</span>
<span class="k">for</span> <span class="n">town</span> <span class="ow">in</span> <span class="n">itinerary</span><span class="p">:</span> 
    <span class="k">if</span> <span class="n">town</span> <span class="ow">in</span> <span class="n">populations</span><span class="p">:</span> 
        <span class="n">reach_big_city</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">break</span>
<span class="nb">print</span><span class="p">(</span><span class="n">reach_big_city</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>In a <em>there exists</em> scan, we can break from the loop as soon as we
find any element that satisfies the criterion, but we must finish
the whole loop to conclude that there are no satisfying elements.</p>
<p>Like the <em>for all</em> scan, a <em>there exists</em> scan may be implemented as
a function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">exists_in_table</span><span class="p">(</span><span class="n">li</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;True if any elements of li are keys in table&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">li</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">table</span><span class="p">:</span> 
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
   
<span class="nb">print</span><span class="p">(</span><span class="n">exists_in_table</span><span class="p">(</span><span class="n">itinerary</span><span class="p">,</span> <span class="n">populations</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>Once again, initialization of the boolean variable and the break
from the loop are replaced with <code class="docutils literal notranslate"><span class="pre">return</span></code> statements in appropriate
places.</p>
</section>
</section>
<section id="other-iterables">
<h3>Other iterables<a class="headerlink" href="#other-iterables" title="Permalink to this headline">#</a></h3>
<p>We have already seen at least one other type of Python data type
with behavior similar to lists:  After opening a file, we can
iterate (loop) through it line by line.  You can also loop through
the characters in a string:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;What?&quot;</span>
<span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ch</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>W
h
a
t
?
</pre></div>
</div>
</div>
</div>
<p>There are more.  In Python, “things you can loop through” are called
<em>iterables</em>.  When we loop through indexes for a list <code class="docutils literal notranslate"><span class="pre">l</span></code> using
<code class="docutils literal notranslate"><span class="pre">range(len(l))</span></code>, we are actually iterating through elements of a <code class="docutils literal notranslate"><span class="pre">range</span></code>
object:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
2
</pre></div>
</div>
</div>
</div>
<p>It is even possible to create new kinds of collection
that you can loop through, but we won’t do that in this course.</p>
</section>
<section id="project">
<h3>Project<a class="headerlink" href="#project" title="Permalink to this headline">#</a></h3>
<p>The <a class="reference external" href="https://github.com/UO-CS210/enrollment">project for this week</a>
asks you to produce a summary report from a class roster. It uses
lists, dictionaries, and tuples.  The pattern above, using a <code class="docutils literal notranslate"><span class="pre">dict</span></code> to
keep several counts of items in a list, is the key to counting the
number of students in each major.</p>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-04-More-Loops/04-01-More-Loops"></span><section class="tex2jax_ignore mathjax_ignore" id="loops-and-more-loops">
<h2>Loops and more loops<a class="headerlink" href="#loops-and-more-loops" title="Permalink to this headline">#</a></h2>
<p>Loops again?  And again and again.  Because looping is all about
repetition. Every interesting thing a computer can do involves loops.
The basic operations a computer can carry out are <em>extremely</em> simple.
Complex operations are always performed by performing a lot of simple
operations in some kind of loop.</p>
<section id="parallel-lists">
<h3><a class="reference internal" href="intro.html#document-04-More-Loops/04-02-Parallel-Lists"><span class="doc std std-doc">Parallel Lists</span></a><a class="headerlink" href="#parallel-lists" title="Permalink to this headline">#</a></h3>
<p>Before jumping into indefinite loops, we will take a look at a data
structure called <em>parallel lists</em> or <em>parallel arrays</em>.  This is not
a new data type in Python, but rather a way of organizing data using
the <code class="docutils literal notranslate"><span class="pre">list</span></code> type you already know.  It is a structure used in this
week’s project.</p>
</section>
<section id="indefinite-loops">
<h3><a class="reference internal" href="intro.html#document-04-More-Loops/04-03-Indefinite-Loops"><span class="doc std std-doc">Indefinite Loops</span></a><a class="headerlink" href="#indefinite-loops" title="Permalink to this headline">#</a></h3>
<p>In <a class="reference internal" href="intro.html#document-03-Collections-Loops/03-01-Collections"><span class="doc std std-doc">Chapter 3</span></a>
we considered loops through collections, especially
lists.  Most of our loops took the form of doing something with each
item, one by one, such as counting or summing the items.  We also
looked at creating a summary (such as a count) for each value found
in a collection (e.g., a count of the number of students in each
major).  In this section we’ll look at some loops that are not so
easy to fit into the “for each x do p” form.</p>
</section>
<section id="successive-approximation">
<h3><a class="reference internal" href="intro.html#document-04-More-Loops/04-04-Successive-Approximation"><span class="doc std std-doc">Successive Approximation</span></a><a class="headerlink" href="#successive-approximation" title="Permalink to this headline">#</a></h3>
<p>Indefinite loops are often used in an algorithmic technique called
<em>successive approximation</em>.  The basic logic of successive
approximation is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>make an initial guess
while it&#39;s not good enough: 
      improve it
Voila!  Good enough answer! 
</pre></div>
</div>
<p>Of course the “make a guess”, “not good enough”,  and “improve it”
steps
may require a
little more refinement. <a class="reference external" href="https://github.com/UO-CS210/wildfire">Our wildfire clustering project</a> instantiates “make an initial guess” as “randomly assign fires to
clusters”, “improve it” as “reassign based on proximity”, and
“not good enough” as “assignments are still changing, so maybe we
can do better.”</p>
</section>
</section>
<span id="document-04-More-Loops/04-02-Parallel-Lists"></span><section class="tex2jax_ignore mathjax_ignore" id="parallel-lists">
<h2>Parallel Lists<a class="headerlink" href="#parallel-lists" title="Permalink to this headline">#</a></h2>
<p>Here are two ways we could represent the ten largest cities in
Oregon, along with their populations.  We can think of the data as a
table with a row for each city, one column for city names, and one
column for populations.</p>
<p>We could make a single list of tuples, like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">or_cities_pops</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;Portland&#39;</span><span class="p">,</span> <span class="mi">641_162</span><span class="p">),</span> 
    <span class="p">(</span><span class="s1">&#39;Salem&#39;</span><span class="p">,</span> <span class="mi">177_723</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;Eugene&#39;</span><span class="p">,</span> <span class="mi">175_096</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;Gresham&#39;</span><span class="p">,</span> <span class="mi">113_103</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;Hillsboro&#39;</span><span class="p">,</span> <span class="mi">106_633</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;Bend&#39;</span><span class="p">,</span> <span class="mi">102_059</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;Beaverton&#39;</span><span class="p">,</span> <span class="mi">98_216</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;Medford&#39;</span><span class="p">,</span> <span class="mi">86_367</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;Springfield&#39;</span><span class="p">,</span> <span class="mi">62_256</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;Corvallis&#39;</span><span class="p">,</span> <span class="mi">59_864</span><span class="p">)</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>This seems fine, but suppose I notice that the populations are
somewhat out of date.  I might want to add 10% to each population.
I might even already have a function that adds 10% to each element
of a list of numbers, but I can’t apply that function to this list
of tuples.  Any function that works on this data has to “know about”
the (name, population), extracting the population component and
building a new tuple with the updated population.  Alternatively, I
could change from a list of tuples to a list of lists to enable
direct update of the populations, but the function would still need
to know about the structure of each row.</p>
<p>Instead of putting all the information in one list, I could separate
it into two lists.  If we think of the data as being a table with
a row for each city and columns for names and populations,
the individual lists could represent columns of data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">or_cities_names</span> <span class="o">=</span> <span class="p">[</span> 
   <span class="s1">&#39;Portland&#39;</span><span class="p">,</span> <span class="s1">&#39;Salem&#39;</span><span class="p">,</span> <span class="s1">&#39;Eugene&#39;</span><span class="p">,</span> <span class="s1">&#39;Gresham&#39;</span><span class="p">,</span> <span class="s1">&#39;Hillsboro&#39;</span><span class="p">,</span> 
   <span class="s1">&#39;Bend&#39;</span><span class="p">,</span> <span class="s1">&#39;Beaverton&#39;</span><span class="p">,</span> <span class="s1">&#39;Medford&#39;</span><span class="p">,</span> <span class="s1">&#39;Springfield&#39;</span><span class="p">,</span> <span class="s1">&#39;Corvallis&#39;</span> <span class="p">]</span>
   
<span class="n">or_cities_pops</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">641_162</span><span class="p">,</span> <span class="mi">177_723</span><span class="p">,</span> <span class="mi">175_096</span><span class="p">,</span> <span class="mi">113_103</span><span class="p">,</span> <span class="mi">106_633</span><span class="p">,</span> 
    <span class="mi">102_059</span><span class="p">,</span> <span class="mi">98_216</span><span class="p">,</span> <span class="mi">86_367</span><span class="p">,</span> <span class="mi">62_256</span><span class="p">,</span> <span class="mi">59_864</span> <span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Now the first element of <code class="docutils literal notranslate"><span class="pre">or_cities_names</span></code> corresponds to the first
element of <code class="docutils literal notranslate"><span class="pre">or_cities_pops</span></code>, the second elements correspond, and so
on.  We call these <em>parallel arrays</em> or, in Python, <em>parallel lists</em>,
because they “line up”.</p>
<p>The advantage of parallel lists is that it is easier to do
something to all the elements of one column, as long as I don’t
change the order of elements in a column.
Scientific computing packages like scipy and statistical computing
packages like Python’s Pandas typically keep numerical data in parallel
arrays for this reason.
The disadvantage of parallel lists is that if I want to do
something to a whole row, I need an element from each of the column
lists.</p>
<p>Let’s give these cities some
population growth.  We will be altering only the population column,
so we can write a function that takes a list of numbers and returns
a corresponding list of numbers, in the same order:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">nth_increase</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">col</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Return list with integers 1/n higher than col&quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">col</span><span class="p">:</span> 
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">el</span> <span class="o">+</span> <span class="n">el</span><span class="o">//</span><span class="n">n</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
    
<span class="c1"># 10% is 1/10</span>
<span class="n">or_cities_pops</span> <span class="o">=</span> <span class="n">nth_increase</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">or_cities_pops</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">or_cities_names</span><span class="p">)):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">or_cities_names</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">or_cities_pops</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Portland 705278
Salem 195495
Eugene 192605
Gresham 124413
Hillsboro 117296
Bend 112264
Beaverton 108037
Medford 95003
Springfield 68481
Corvallis 65850
</pre></div>
</div>
</div>
</div>
<p>With a parallel arrays structure, the <code class="docutils literal notranslate"><span class="pre">nth_increase</span></code> function can
apply to <em>any</em> list of integers.  It doesn’t have to be specific to
city populations.  In the project associated with this chapter, we will use parallel
lists so that we can replace a whole column of a table with a
function that handles just that column.</p>
<section id="zip-from-columns-to-rows">
<h3>Zip: From columns to rows<a class="headerlink" href="#zip-from-columns-to-rows" title="Permalink to this headline">#</a></h3>
<p>While printing each row is a little more tedious with organization
by columns,
there is a simple workaround:  Python
provides a function <code class="docutils literal notranslate"><span class="pre">zip</span></code> for combining parallel lists into a single
sequence of tuples.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">or_cities_names</span><span class="p">,</span> <span class="n">or_cities_pops</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;Portland&#39;, 705278)
(&#39;Salem&#39;, 195495)
(&#39;Eugene&#39;, 192605)
(&#39;Gresham&#39;, 124413)
(&#39;Hillsboro&#39;, 117296)
(&#39;Bend&#39;, 112264)
(&#39;Beaverton&#39;, 108037)
(&#39;Medford&#39;, 95003)
(&#39;Springfield&#39;, 68481)
(&#39;Corvallis&#39;, 65850)
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">zip</span></code> function will come in handy if we want to change the
order of rows in the table.  For example, suppose we wanted to print
the table of populations in alphabetical order, rather than in order
of population.  We need to sort them, but we can’t sort the
individual columns.  A list of <code class="docutils literal notranslate"><span class="pre">(name,</span> <span class="pre">population)</span></code> pairs will be
sorted first by name, using population only as a tie-breaker.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rows</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">or_cities_names</span><span class="p">,</span> <span class="n">or_cities_pops</span><span class="p">)</span>
<span class="n">by_name</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">by_name</span><span class="p">:</span> 
  <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;Beaverton&#39;, 108037)
(&#39;Bend&#39;, 112264)
(&#39;Corvallis&#39;, 65850)
(&#39;Eugene&#39;, 192605)
(&#39;Gresham&#39;, 124413)
(&#39;Hillsboro&#39;, 117296)
(&#39;Medford&#39;, 95003)
(&#39;Portland&#39;, 705278)
(&#39;Salem&#39;, 195495)
(&#39;Springfield&#39;, 68481)
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you print <code class="docutils literal notranslate"><span class="pre">rows</span></code> in the example above, you will find that it
is not actually a list, but rather a <em>zip object</em>.  Python does
not produce the list of tuples all at once, but
rather one row at a time as needed.  This is called <em>laziness</em>.
We can mostly ignore laziness when
we use access all the rows in order, as the <code class="docutils literal notranslate"><span class="pre">sorted</span></code> function
does.  It will cause a problem if we try to access row <em>n</em> out of
order, e.g., <code class="docutils literal notranslate"><span class="pre">by_row[5]</span></code>.   Later (but not in this course) you may
want to zip together extremely long or even <em>infinite</em> sequences, using
another cool Python feature called <em>generators</em>.  Producing an
infinite list would be slower if it were not done lazily.</p>
</div>
</section>
<section id="indexes-as-references">
<h3>Indexes as references<a class="headerlink" href="#indexes-as-references" title="Permalink to this headline">#</a></h3>
<p>When we organize our data in parallel lists, we often use the index
of an item as a reference to the whole row.  For example, suppose
the table were in order by city name, like <code class="docutils literal notranslate"><span class="pre">by_name</span></code> above, and
suppose we wanted to print the name of the city with the highest
population.  We could write a function to find the largest population,
but instead of returning that population, we would return the <em>index
of</em> that item.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">max_index</span><span class="p">(</span><span class="n">nums</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Returns the index of the maximum value in nums&quot;&quot;&quot;</span>
    <span class="n">i_max</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">v_max</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">v_max</span><span class="p">:</span> 
            <span class="n">v_max</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">i_max</span> <span class="o">=</span> <span class="n">i</span>
    <span class="k">return</span> <span class="n">i_max</span>
</pre></div>
</div>
</div>
</div>
<p>Then we can use this <em>index</em> to print any column in the selected row.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">city_names</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">&#39;Beaverton&#39;</span><span class="p">,</span> <span class="s1">&#39;Bend&#39;</span><span class="p">,</span> <span class="s1">&#39;Corvallis&#39;</span><span class="p">,</span> <span class="s1">&#39;Eugene&#39;</span><span class="p">,</span> 
  <span class="s1">&#39;Gresham&#39;</span><span class="p">,</span> <span class="s1">&#39;Hillsboro&#39;</span><span class="p">,</span> <span class="s1">&#39;Medford&#39;</span><span class="p">,</span> <span class="s1">&#39;Portland&#39;</span><span class="p">,</span>
  <span class="s1">&#39;Salem&#39;</span><span class="p">,</span> <span class="s1">&#39;Springfield&#39;</span><span class="p">]</span>
<span class="n">city_pops</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">108037</span><span class="p">,</span> <span class="mi">112264</span><span class="p">,</span> <span class="mi">65850</span><span class="p">,</span> <span class="mi">192605</span><span class="p">,</span>
    <span class="mi">124413</span><span class="p">,</span> <span class="mi">117296</span><span class="p">,</span> <span class="mi">95003</span><span class="p">,</span> <span class="mi">705278</span><span class="p">,</span> 
    <span class="mi">195495</span><span class="p">,</span> <span class="mi">68481</span><span class="p">]</span>
    
<span class="n">big_city</span> <span class="o">=</span> <span class="n">max_index</span><span class="p">(</span><span class="n">city_pops</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">city_names</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">city_pops</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Springfield 68481
</pre></div>
</div>
</div>
</div>
<p>We will use this technique in our<a class="reference external" href="https://github.com/UO-CS210/wildfire">clustering project</a>.   We will search one list for the <em>index of</em> the cluster to which
a fire record should belong, then use that index to add the fire to
the cluster.</p>
</section>
</section>
<span id="document-04-More-Loops/04-03-Indefinite-Loops"></span><section class="tex2jax_ignore mathjax_ignore" id="indefinite-loops">
<h2>Indefinite loops<a class="headerlink" href="#indefinite-loops" title="Permalink to this headline">#</a></h2>
<p>Loops that iterate through the elements of a
collection are most common, but a loop can also be written to
iterate as long as some condition holds.  Sometimes such a loop is
useful even when we are iterating through collections, but not
stepping through them at a pace of one item per iteration.</p>
<section id="example-merging-sorted-lists">
<h3>Example: Merging sorted lists<a class="headerlink" href="#example-merging-sorted-lists" title="Permalink to this headline">#</a></h3>
<p>Suppose we want to <em>merge</em> two lists that are already in
sorted order.   While we could just concatenate and then sort short
lists, that approach would not be good if the lists had
millions of elements, or if instead of lists in memory we were
reading two streams of network data and producing a merged output
stream.  In that case we would need a loop that advances through
just one or the other list on each iteration.  I’ll illustrate with
short lists:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># My lists of precious and cheap rocks are each sorted</span>
<span class="n">precious</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;amber&quot;</span><span class="p">,</span> <span class="s2">&quot;amethyst&quot;</span><span class="p">,</span> <span class="s2">&quot;diamond&quot;</span><span class="p">,</span> <span class="s2">&quot;ruby&quot;</span><span class="p">]</span>
<span class="n">cheap</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;basalt&quot;</span><span class="p">,</span> <span class="s2">&quot;granite&quot;</span><span class="p">,</span> <span class="s2">&quot;pumice&quot;</span><span class="p">,</span> <span class="s2">&quot;shale&quot;</span><span class="p">]</span>

<span class="c1"># I want to combine them into one sorted list</span>
<span class="c1"># Start at the beginning of each list</span>
<span class="n">i_precious</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">i_cheap</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">rocks</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">while</span> <span class="n">i_precious</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">precious</span><span class="p">)</span> <span class="ow">and</span> <span class="n">i_cheap</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">cheap</span><span class="p">):</span>
    <span class="c1"># We&#39;ll add one element to rocks on each iteration, </span>
    <span class="c1"># but it could come from either the precious or the cheap list.</span>
    <span class="k">if</span> <span class="n">precious</span><span class="p">[</span><span class="n">i_precious</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">cheap</span><span class="p">[</span><span class="n">i_cheap</span><span class="p">]:</span>
        <span class="n">rocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">precious</span><span class="p">[</span><span class="n">i_precious</span><span class="p">])</span>
        <span class="n">i_precious</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="n">rocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cheap</span><span class="p">[</span><span class="n">i_cheap</span><span class="p">])</span>
        <span class="n">i_cheap</span> <span class="o">+=</span> <span class="mi">1</span>
        
<span class="c1"># One of the lists, cheap or precious, has not been used up.</span>
<span class="c1"># One of these two loops will execute zero times, and one will </span>
<span class="c1"># execute at least once. </span>
<span class="k">while</span> <span class="n">i_precious</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">precious</span><span class="p">):</span>
    <span class="n">rocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">precious</span><span class="p">[</span><span class="n">i_precious</span><span class="p">])</span>
    <span class="n">i_precious</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">while</span> <span class="n">i_cheap</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">cheap</span><span class="p">):</span>
    <span class="n">rocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cheap</span><span class="p">[</span><span class="n">i_cheap</span><span class="p">])</span>
    <span class="n">i_cheap</span> <span class="o">+=</span> <span class="mi">1</span> 

<span class="nb">print</span><span class="p">(</span><span class="n">rocks</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;amber&#39;, &#39;amethyst&#39;, &#39;basalt&#39;, &#39;diamond&#39;, &#39;granite&#39;, &#39;pumice&#39;, &#39;ruby&#39;, &#39;shale&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="breaking-out">
<h3>Breaking out<a class="headerlink" href="#breaking-out" title="Permalink to this headline">#</a></h3>
<p>The condition for finishing and exiting a loop is not always in the
<code class="docutils literal notranslate"><span class="pre">while</span></code> condition.  Sometimes it is more convenient to place the
test somewhere in the body of the loop.  In that case we may write
what appears to be an infinite loop with <code class="docutils literal notranslate"><span class="pre">while</span> <span class="pre">true:</span></code>, and use the
<code class="docutils literal notranslate"><span class="pre">break</span></code> statement for the actual exit.  The code for combining lists
of rocks could also be written with a single loop:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">i_precious</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">i_cheap</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">rocks</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span> 
    <span class="k">if</span> <span class="n">i_precious</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">precious</span><span class="p">)</span> <span class="ow">and</span> <span class="n">i_cheap</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">cheap</span><span class="p">):</span>
        <span class="c1"># Both lists have more items.  Take the smallest.</span>
        <span class="k">if</span> <span class="n">precious</span><span class="p">[</span><span class="n">i_precious</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">cheap</span><span class="p">[</span><span class="n">i_cheap</span><span class="p">]:</span>
            <span class="n">rocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">precious</span><span class="p">[</span><span class="n">i_precious</span><span class="p">])</span>
            <span class="n">i_precious</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span> 
            <span class="n">rocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cheap</span><span class="p">[</span><span class="n">i_cheap</span><span class="p">])</span>
            <span class="n">i_cheap</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">i_precious</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">precious</span><span class="p">):</span> 
        <span class="c1"># Only precious rocks remain.  Take the next. </span>
        <span class="n">rocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">precious</span><span class="p">[</span><span class="n">i_precious</span><span class="p">])</span>
        <span class="n">i_precious</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">i_cheap</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">cheap</span><span class="p">):</span>
        <span class="c1"># Only cheap rocks remain.  Take the next. </span>
        <span class="n">rocks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cheap</span><span class="p">[</span><span class="n">i_cheap</span><span class="p">])</span>
        <span class="n">i_cheap</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="c1"># Both lists are exhausted; we&#39;re done! </span>
        <span class="k">break</span>

<span class="nb">print</span><span class="p">(</span><span class="n">rocks</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;amber&#39;, &#39;amethyst&#39;, &#39;basalt&#39;, &#39;diamond&#39;, &#39;granite&#39;, &#39;pumice&#39;, &#39;ruby&#39;, &#39;shale&#39;]
</pre></div>
</div>
</div>
</div>
<p>Usually we want to be sure that the <code class="docutils literal notranslate"><span class="pre">break</span></code> statement will be
executed after a predictable number of iterations.  In the loop
above, we can argue that each iteration adds one to either <code class="docutils literal notranslate"><span class="pre">i_cheap</span></code>
or <code class="docutils literal notranslate"><span class="pre">i_precious</span></code>, and that the total number of loop iterations will
be exactly <code class="docutils literal notranslate"><span class="pre">len(precious)</span> <span class="pre">+</span> <span class="pre">len(cheap)</span></code>.</p>
<p>In some other situations it may be much harder to determine how many
times an indefinite loop could execute.  For example, we may be
simulating a physical system until some condition holds, or trying
different solutions to a puzzle.
If we cannot be sure of eventually executing the <code class="docutils literal notranslate"><span class="pre">break</span></code>
statement, we could replace the <code class="docutils literal notranslate"><span class="pre">while</span></code> with a <code class="docutils literal notranslate"><span class="pre">for</span></code> to set an
upper limit on the number of iterations.  That is the approach we
will take  in this week’s project, in which the main loop is an
attempt to improve an assignment of events to geographic clusters.</p>
</section>
</section>
<span id="document-04-More-Loops/04-04-Successive-Approximation"></span><section class="tex2jax_ignore mathjax_ignore" id="successive-approximation">
<h2>Successive approximation<a class="headerlink" href="#successive-approximation" title="Permalink to this headline">#</a></h2>
<p>Suppose you had a machine that was not very smart, but could compute
things and check certain simple conditions very quickly.  You might
call such a machine a “computer”.  If you directed it carefully,
with something you might call a “program”, you might even make it
appear smart, although really it would just be doing a lot of simple
operations.  For example, you could direct it to guess an answer
(very badly!) and then make minor adjustments to improve its guess,
until the refined guess looked like a smart answer.  If it could do
this quickly enough, it might even appear to be making smart choices.</p>
<p>Making a guess and then improving it is a basic optimization
technique for many simulations of physical systems.  The initial
guess does not have to be good, provided we have some way of
improving it, and improving it again, and so on until we have
reached a good solution.  Systems for setting the timing of traffic
lights to optimize traffic work this way … it is likely that
the timing of traffic lights in your current city was selected by the
<a class="reference external" href="https://en.wikipedia.org/wiki/TRANSYT-7F">Transyt</a> system, whose
core method is exactly this.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>I chose the Transyt software as an example
because I know it was
used to set the light timings in Eugene, Oregon decades ago.  I know
because my first assignment as a junior programmer was to make
that software work on the IBM mainframe computer then used by the city.
I encountered Transyt again several years later, when my spouse
was working for a transportation research group
at University of California, Irvine.
Useful programs last a long time, and evolve, sometimes through
generations of programmers.  The Transyt system today is
different in some ways than the code I encountered many years ago.
It may have been rewritten in a more modern programming
language (or maybe not).  The
“guess and refine” approach to optimization has been extended in
<a class="reference external" href="https://mctrans.ce.ufl.edu/highway-capacity-software-hcs/transyt-7f/">Transyt 7F</a>
to a modern <em>genetic search</em> algorithm that maintains multiple
guesses for refinement, but the core approach remains the
same. -MY</p>
</div>
<p>Simulations of physical systems are complex, but we can illustrate
the approach more simply with a “system” that is just a math
formula.  Suppose we wanted to find the square root of a number
greater than 1.0.   Suppose all we knew is that</p>
<div class="math notranslate nohighlight">
\[ \sqrt{n} * \sqrt{n} = n \]</div>
<p>and that, for numbers greater than 1, <span class="math notranslate nohighlight">\(m &gt; n \implies m^2 &gt; n^2\)</span>.<br />
This is enough to get very close to a correct answer by
making a guess and refining it.  (Exactly how close we can get is
complicated, because the computer uses a floating-point
approximation to real numbers.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">guess_sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">error_bound</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;n must be between 1.0 and 100,000. </span>
<span class="sd">    error_bound must be greater than  0.00001</span>
<span class="sd">    Returns a number q such that </span>
<span class="sd">    q^2 - error_bound &lt;= n &lt;= q^2 + error_bound.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># q must be between 1 and n</span>
    <span class="n">q_max</span> <span class="o">=</span> <span class="n">n</span>
    <span class="n">q_min</span> <span class="o">=</span> <span class="mf">1.0</span>
    <span class="c1"># Execute the loop at least once</span>
    <span class="n">error</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">error_bound</span>
    <span class="k">while</span> <span class="n">error</span> <span class="o">&gt;</span> <span class="n">error_bound</span><span class="p">:</span> 
        <span class="c1"># Make a guess within bounds</span>
        <span class="n">q</span> <span class="o">=</span> <span class="p">(</span><span class="n">q_min</span> <span class="o">+</span> <span class="n">q_max</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span>
        <span class="c1"># How bad is it? </span>
        <span class="n">error</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">q</span><span class="o">*</span><span class="n">q</span> <span class="o">-</span> <span class="n">n</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Guessed sqrt(</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2">) ≅ </span><span class="si">{</span><span class="n">q</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2"> off by </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1"># Improve the guess by squeezing the bounds</span>
        <span class="k">if</span> <span class="n">q</span><span class="o">*</span><span class="n">q</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">:</span>
            <span class="c1"># Too big! </span>
            <span class="n">q_max</span> <span class="o">=</span> <span class="n">q</span>
        <span class="k">else</span><span class="p">:</span> 
            <span class="c1"># Too small! </span>
            <span class="n">q_min</span> <span class="o">=</span> <span class="n">q</span> 
    <span class="k">return</span>  <span class="n">q</span>
    
<span class="n">s</span> <span class="o">=</span> <span class="n">guess_sqrt</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">.0001</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Guessed sqrt(2.0) ≅ 1.5
	 off by 0.25
Guessed sqrt(2.0) ≅ 1.25
	 off by 0.4375
Guessed sqrt(2.0) ≅ 1.375
	 off by 0.109375
Guessed sqrt(2.0) ≅ 1.4375
	 off by 0.06640625
Guessed sqrt(2.0) ≅ 1.40625
	 off by 0.0224609375
Guessed sqrt(2.0) ≅ 1.421875
	 off by 0.021728515625
Guessed sqrt(2.0) ≅ 1.4140625
	 off by 0.00042724609375
Guessed sqrt(2.0) ≅ 1.41796875
	 off by 0.0106353759765625
Guessed sqrt(2.0) ≅ 1.416015625
	 off by 0.005100250244140625
Guessed sqrt(2.0) ≅ 1.4150390625
	 off by 0.0023355484008789062
Guessed sqrt(2.0) ≅ 1.41455078125
	 off by 0.0009539127349853516
Guessed sqrt(2.0) ≅ 1.414306640625
	 off by 0.0002632737159729004
Guessed sqrt(2.0) ≅ 1.4141845703125
	 off by 8.200109004974365e-05
1.4141845703125
</pre></div>
</div>
</div>
</div>
<p>In math courses you may encounter the Newton-Raphson method for
estimating roots of a polynomial, using a better refinement to the
guess in each iteration than I have used above, and other series
that are essentially variations of this “guess and refine” approach.</p>
<p>If we don’t have a direct way of checking the error bound as we did
by squaring <code class="docutils literal notranslate"><span class="pre">q</span></code>, but we have upper and lower bounds on the answer
(like <code class="docutils literal notranslate"><span class="pre">q_max</span></code> and <code class="docutils literal notranslate"><span class="pre">q_min</span></code> above), then we can infer that the error
is at most <code class="docutils literal notranslate"><span class="pre">q_max</span> <span class="pre">-</span> <span class="pre">q_min</span></code>.</p>
<p>If we cannot even set some kinds of bounds around a solution
(perhaps because the solution is not a number, but something more
complex), we can at least determine whether we are getting the same
guess or something different from iteration to iteration.  If our
guess is not changing, there is no point in continuing.</p>
<p>In our
<a class="reference external" href="https://github.com/UO-CS210/wildfire">clustering project</a>, we stop
the loop when the assignment of locations to clusters stops changing.
Usually this will be a pretty good solution, but it is not
guaranteed. When the k-means clustering algorithm is used in
practice, it is often run more than once with different initial
guesses to increase the chance that it produces at least one very
good solution.</p>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-05-Recursion/05-01-Recursion"></span><section class="tex2jax_ignore mathjax_ignore" id="recursive-functions">
<h2>Recursive Functions<a class="headerlink" href="#recursive-functions" title="Permalink to this headline">#</a></h2>
<p>We have written many functions that call other functions.  Could we
write a function that calls itself?  A function that calls itself
directly or indirectly is called a <em>recursive</em> functon.
We would have to be careful, of
course.  The following will not work:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mult_v1</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> 
        <span class="sd">&quot;&quot;&quot;Use commutative law to multiply, a*b = b*a&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">mult_v1</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
        
<span class="nb">print</span><span class="p">(</span><span class="n">mult_v1</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>This circular definition of multiplication in terms of
multiplication fails, as we expect.  It’s a kind an <em>infinite
recursive loop</em>.  Python will eventually report a <code class="docutils literal notranslate"><span class="pre">RecursionError</span></code>
exception:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">RecursionError</span><span class="p">:</span> <span class="n">maximum</span> <span class="n">recursion</span> <span class="n">depth</span> <span class="n">exceeded</span>
</pre></div>
</div>
<p>And yet we can write a recursive function for multiplication. The
following is a slow way to multiply integers,
but it works:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mult_v2</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;Multiplication by repeated addition.</span>
<span class="sd">    a and b must be non-negative integers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="k">return</span> <span class="n">b</span> <span class="o">+</span> <span class="n">mult_v2</span><span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">(</span><span class="n">mult_v2</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15
</pre></div>
</div>
</div>
</div>
<p>Why does <code class="docutils literal notranslate"><span class="pre">mult_v2</span></code> work, without causing an infinite
recursive loop?   The key is that while <code class="docutils literal notranslate"><span class="pre">mult_v2</span></code>
makes a recursive call on <code class="docutils literal notranslate"><span class="pre">mult_v2</span></code>, the same function, it does not
call <code class="docutils literal notranslate"><span class="pre">mult_v2</span></code> on the same argument values.  The recursive call is made
with a smaller value for <code class="docutils literal notranslate"><span class="pre">a</span></code>, until eventually <code class="docutils literal notranslate"><span class="pre">a</span></code> must be 0.  We
can think of it as transforming <code class="docutils literal notranslate"><span class="pre">mult_v2(3,</span> <span class="pre">5)</span></code> first into
<code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">+</span> <span class="pre">mult_v2(2,</span> <span class="pre">5)</span></code>, then <code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">+</span> <span class="pre">5</span> <span class="pre">+</span> <span class="pre">mult_v2(1,</span> <span class="pre">5)</span></code>, then
<code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">+</span> <span class="pre">5</span> <span class="pre">+</span> <span class="pre">5</span> <span class="pre">+</span> <span class="pre">mult_v2(1,</span> <span class="pre">5)</span></code>, and finally <code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">+</span> <span class="pre">5</span> <span class="pre">+</span> <span class="pre">5</span> <span class="pre">+</span> <span class="pre">0</span></code>.</p>
<p>You can <a class="reference external" href="https://pythontutor.com/render.html#code=def%20mult%28a%3A%20int,%20b%3A%20int%29%20-%3E%20int%3A%20%0A%20%20%20%20%22%22%22Multiplication%20by%20repeated%20addition.%0A%20%20%20%20a%20and%20b%20must%20be%20non-negative%20integers.%0A%20%20%20%20%22%22%22%0A%20%20%20%20if%20a%20%3D%3D%200%3A%20%0A%20%20%20%20%20%20%20%20return%200%0A%20%20%20%20else%3A%20%0A%20%20%20%20%20%20%20%20return%20b%20%2B%20mult%28a%20-%201,%20b%29%0A%20%20%20%20%0Aprint%28mult%283,%205%29%29&amp;cumulative=false&amp;curInstr=0&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false">visualize this progression in PythonTutor</a>.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">mult_v2</span></code>, the code is divided into a <em>base
case</em> (<code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">==</span> <span class="pre">0</span></code>) and a <em>recursive case</em> (<code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&gt;</span> <span class="pre">0</span></code>, which we have
simplified to <code class="docutils literal notranslate"><span class="pre">else</span></code>).  Our recursive functions will always have
this structure.  The base case is a case that can be handled
directly, without a recursive call.  The recursive case must make
the recursive call on data values that are “smaller” in the sense
that with repeated application the function must eventually reach
the base case.  When we write recursive functions involving numbers,
“smaller” is usually our familiar notion of “smaller numbers”.  When
we write other kinds of recursive functions, we may have to think
harder about what “smaller” could mean, to guarantee that we always
reach the base case.</p>
<p>Recursion in computing is closely related to induction in
mathematics.    Not surprisingly, then, many inductive definitions can
be straightforwardly translated into recursive functions.  For
example, the factorial function can be inductively defined as:
<span class="math notranslate nohighlight">\(
n! = \left\{ \begin{array}{ll}
            1 &amp; \textrm{if } n &lt; 2\\
            n \times (n-1)! &amp; 
              \textrm{otherwise }
            \end{array}
      \right.
\)</span></p>
<p>Again we see a <em>base case</em> (n &lt; 2) and a recursive (or inductive)
case. Mathematicians might define the base case before or after the
inductive case, but in programming we will almost always check the base
case first.  We can translate the mathematical definition above to
Python very simply:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;The inductive definition of factorial&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span> 
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">n</span> <span class="o">*</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    
<span class="n">factorial</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>120
</pre></div>
</div>
</div>
</div>
<p>While math is full of inductive definitions that can become
recursive functions, recursion is not limited to
mathematical or numerical problems.   Often in computing, recursion
is applied to collections (lists, dicts, etc).  Sometimes the
recursive call is on a <em>smaller piece</em> of a collection.  Other times
the data itself is hierarchical, and the recursive calls follow the
hierarchical structure of the data.</p>
<section id="shrinking-pieces-of-a-collection">
<h3>Shrinking pieces of a collection<a class="headerlink" href="#shrinking-pieces-of-a-collection" title="Permalink to this headline">#</a></h3>
<p>A palindrome is a word or phrase that is the same written forwards
or backwards.  For example, “kayak” is a palindrome, as are
“rotator” and “wow”.  We can define palindromes inductively as
follows:</p>
<ul class="simple">
<li><p>A single letter word is always a palindrome (even if it’s a very
boring palindrome).</p></li>
<li><p>The empty string is also a palindrome.</p></li>
<li><p>If some sequence of letters <em>w</em> is a palindrome, and <em>x</em> is a
letter, then <em>xwx</em> is a palindrome.</p></li>
</ul>
<p>The first two parts of the definition may seem a little strange.  If
you were asked for examples of palindromes, you probably would not
answer with “a” or “I”.  You almost certainly wouldn’t answer with
the empty string.  But strange as they seem, we need these as
<em>base cases</em>!  (I will return to this below and write a “helper
function” that can prevent us from accepting these trivial palindromes.)</p>
<p>The third rule, which says that <em>xwx</em> is a palindrome if <em>x</em> is a
letter and <em>w</em> is a palindrome, is the recursive case.  The
definition looks like it is adding a letter <em>x</em> to both ends of a
word, but we will use it backwards:  Given a word <em>xwy</em>, we will
check whether <em>x</em> and <em>y</em> are the same letter, and then make the
recursive call on a shorter word <em>w</em>.</p>
<p>This will be simpler with a list of letters than with a string.<br />
Python makes it easy to get such a list of letters:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="s2">&quot;hotdog&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;h&#39;, &#39;o&#39;, &#39;t&#39;, &#39;d&#39;, &#39;o&#39;, &#39;g&#39;]
</pre></div>
</div>
</div>
</div>
<p>Now I want to write a recursive function that returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if its
argument is a palindrome, and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.  In the first
version, I’ll use Python list operations to extract the first, last,
and middle letters.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">palindrome_v1</span><span class="p">(</span><span class="n">word</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;True if word is a palindrome&quot;&quot;&quot;</span>
    <span class="c1"># Base cases</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="c1"># Recursive case</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>     <span class="c1"># First letter</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Middle letters, could be empty</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>    <span class="c1"># Last letter</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span> <span class="ow">and</span> <span class="n">palindrome_v1</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
    
<span class="k">def</span> <span class="nf">is_it_palindrome</span><span class="p">(</span><span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Print palindrome judgment for a string&quot;&quot;&quot;</span>
    <span class="n">letters</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">palindrome_v1</span><span class="p">(</span><span class="n">letters</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2">&#39; is a palindrome&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2">&#39; is NOT a palindrome&quot;</span><span class="p">)</span>

<span class="n">is_it_palindrome</span><span class="p">(</span><span class="s2">&quot;racecar&quot;</span><span class="p">)</span>
<span class="n">is_it_palindrome</span><span class="p">(</span><span class="s2">&quot;noon&quot;</span><span class="p">)</span>
<span class="n">is_it_palindrome</span><span class="p">(</span><span class="s2">&quot;faff&quot;</span><span class="p">)</span>
<span class="n">is_it_palindrome</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;racecar&#39; is a palindrome
&#39;noon&#39; is a palindrome
&#39;faff&#39; is NOT a palindrome
&#39;a&#39; is a palindrome
</pre></div>
</div>
</div>
</div>
<p>You can <a class="reference external" href="https://pythontutor.com/render.html#code=from%20typing%20import%20List%20%20%23%20Required%20for%20Python%20v%203.6%0A%0Adef%20palindrome_v1%28word%3A%20List%5Bstr%5D%29%20-%3E%20bool%3A%20%0A%20%20%20%20%22%22%22True%20if%20word%20is%20a%20palindrome%22%22%22%0A%20%20%20%20%23%20Base%20cases%0A%20%20%20%20if%20len%28word%29%20%3C%202%3A%0A%20%20%20%20%20%20%20%20return%20True%0A%20%20%20%20%23%20Recursive%20case%0A%20%20%20%20x%20%3D%20word%5B0%5D%20%20%20%20%20%23%20First%20letter%0A%20%20%20%20w%20%3D%20word%5B1%3A-1%5D%20%20%23%20Middle%20letters,%20could%20be%20empty%0A%20%20%20%20y%20%3D%20word%5B-1%5D%20%20%20%20%23%20Last%20letter%0A%20%20%20%20return%20x%20%3D%3D%20y%20and%20palindrome_v1%28w%29%0A%20%20%20%20%0Adef%20is_it_palindrome%28word%3A%20str%29%20-%3E%20bool%3A%0A%20%20%20%20%22%22%22Print%20palindrome%20judgment%20for%20a%20string%22%22%22%0A%20%20%20%20letters%20%3D%20list%28word%29%0A%20%20%20%20if%20palindrome_v1%28letters%29%3A%0A%20%20%20%20%20%20%20%20print%28f%22%27%7Bword%7D%27%20is%20a%20palindrome%22%29%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20print%28f%22%27%7Bword%7D%27%20is%20NOT%20a%20palindrome%22%29%0A%0Ais_it_palindrome%28%22racecar%22%29&amp;cumulative=false&amp;curInstr=34&amp;heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false">visualize the execution of <code class="docutils literal notranslate"><span class="pre">palindrome_v2</span></code> with Python Tutor</a>.</p>
</section>
<section id="logical-values">
<h3>Logical values<a class="headerlink" href="#logical-values" title="Permalink to this headline">#</a></h3>
<p>Sometimes the value that becomes “smaller” with each recursive call
is not the value of an individual variable, but some conceptual
value that can derived from one or several variables.  I will call
these “logical values” (as versus “physical values” in an individual
variable); another term
you might encounter is “ghost variables”.</p>
<p>Instead of
decomposing the list of letters in <code class="docutils literal notranslate"><span class="pre">word</span></code> as in <code class="docutils literal notranslate"><span class="pre">palindrome_v1</span></code>, we
might pass indexes of the first and last letters considered.  Then
we can pass the same list in a recursive call, but make the <em>logical</em>
value smaller by passing different indexes of the first and last
letter under consideration, stopping when they cross (indicating an
empty word) or meet (indicating a word of one character).</p>
<p><img alt="Recursive calls passing index of first and last letter in&quot;logical&quot; word value" src="_images/racecar-palindrome.png" /></p>
<p>Instead of checking whether <code class="docutils literal notranslate"><span class="pre">len(word)</span> <span class="pre">&lt;</span> <span class="pre">2</span></code>, we will check whether
<code class="docutils literal notranslate"><span class="pre">last</span> <span class="pre">-</span> <span class="pre">first</span> <span class="pre">&lt;</span> <span class="pre">1</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">palindrome_v2</span><span class="p">(</span><span class="n">word</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">first</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">last</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;True if word[first:last] is a palindrome.</span>
<span class="sd">    first and last must be non-negative integers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Base cases</span>
    <span class="k">if</span> <span class="n">last</span> <span class="o">-</span> <span class="n">first</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="c1"># Recursive case</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">first</span><span class="p">]</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">last</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span> <span class="ow">and</span> <span class="n">palindrome_v2</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">first</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">last</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    
<span class="k">def</span> <span class="nf">is_it_palindrome</span><span class="p">(</span><span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Print palindrome judgment for a string&quot;&quot;&quot;</span>
    <span class="n">letters</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">palindrome_v2</span><span class="p">(</span><span class="n">letters</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2">&#39; is a palindrome&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2">&#39; is NOT a palindrome&quot;</span><span class="p">)</span>

<span class="n">is_it_palindrome</span><span class="p">(</span><span class="s2">&quot;racecar&quot;</span><span class="p">)</span>
<span class="n">is_it_palindrome</span><span class="p">(</span><span class="s2">&quot;noon&quot;</span><span class="p">)</span>
<span class="n">is_it_palindrome</span><span class="p">(</span><span class="s2">&quot;faff&quot;</span><span class="p">)</span>
<span class="n">is_it_palindrome</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;racecar&#39; is a palindrome
&#39;noon&#39; is a palindrome
&#39;faff&#39; is NOT a palindrome
&#39;a&#39; is a palindrome
</pre></div>
</div>
</div>
</div>
</section>
<section id="a-wrapper-function">
<span id="final-palindrome"></span><h3>A wrapper function<a class="headerlink" href="#a-wrapper-function" title="Permalink to this headline">#</a></h3>
<p>We noted above that we might not like to consider “a” or “I”
palindromes, and we might especially not like considering the empty
string “” a palindrome.  Also <code class="docutils literal notranslate"><span class="pre">palindrome_v2</span></code> takes a list and two
integers as arguments.  We’d rather have a function that takes a
string and returns <code class="docutils literal notranslate"><span class="pre">True</span></code> only if that string is a palindrome of at
least two letters.  A typical way of “fixing up” a function is by
writing another function to “wrap” it.</p>
<p>By convention in Python,  a name that begins with an underscore
character (<code class="docutils literal notranslate"><span class="pre">&quot;_&quot;</span></code>) is “hidden” or “internal” to a module.  For
palindrome
checking, we can give the <em>wrapper</em> function a “public” name
<code class="docutils literal notranslate"><span class="pre">palindrome</span></code>, and use <code class="docutils literal notranslate"><span class="pre">_palindrome</span></code> for its internal partner that
does the main work.   The wrapper function <code class="docutils literal notranslate"><span class="pre">palindrome</span></code> will just
check the special cases (rejecting empty and one-letter candidates)
and call the internal function <code class="docutils literal notranslate"><span class="pre">_palindrome</span></code> with the arguments it
requires.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">palindrome</span><span class="p">(</span><span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;Is word a palindrome of at least 2 letters?&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span> 
        <span class="k">return</span> <span class="kc">False</span>
    <span class="n">letters</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_palindrome</span><span class="p">(</span><span class="n">letters</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">letters</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    
    
<span class="k">def</span> <span class="nf">_palindrome</span><span class="p">(</span><span class="n">word</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">first</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">last</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;True if word[first:last] is a palindrome.</span>
<span class="sd">    first and last must be non-negative integers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Base cases</span>
    <span class="k">if</span> <span class="n">last</span> <span class="o">-</span> <span class="n">first</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="c1"># Recursive case</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">first</span><span class="p">]</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">last</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span> <span class="ow">and</span> <span class="n">_palindrome</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">first</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">last</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    
    
<span class="k">def</span> <span class="nf">is_it_palindrome</span><span class="p">(</span><span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Print palindrome judgment for a string&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">palindrome</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2">&#39; is a palindrome&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">word</span><span class="si">}</span><span class="s2">&#39; is NOT a palindrome&quot;</span><span class="p">)</span>


<span class="n">is_it_palindrome</span><span class="p">(</span><span class="s2">&quot;racecar&quot;</span><span class="p">)</span>
<span class="n">is_it_palindrome</span><span class="p">(</span><span class="s2">&quot;noon&quot;</span><span class="p">)</span>
<span class="n">is_it_palindrome</span><span class="p">(</span><span class="s2">&quot;faff&quot;</span><span class="p">)</span>
<span class="n">is_it_palindrome</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;racecar&#39; is a palindrome
&#39;noon&#39; is a palindrome
&#39;faff&#39; is NOT a palindrome
&#39;a&#39; is NOT a palindrome
</pre></div>
</div>
</div>
</div>
<p>Note that the wrapper function rejected “a”.</p>
<p><a class="reference external" href="https://github.com/UO-CS210/flood-fill">Our project for this week</a> makes recursive calls to fill cells in a grid.  The grid is always
the same size in the recursive calls, but the “logical value” that
gets smaller is the number of cells that can be filled.  This
logical value must be smaller with each level of recursive call, and
when it is zero the base case must apply, ending the recursion.</p>
<p>We will see other projects in which recursive calls are made with
the same collection (usually a list) but with smaller and smaller
logical portions of that collection.</p>
</section>
<section id="recursion-for-hierarchical-data-structures">
<h3>Recursion for hierarchical data structures<a class="headerlink" href="#recursion-for-hierarchical-data-structures" title="Permalink to this headline">#</a></h3>
<p>We have seen that lists can be nested within lists.  So far we have
used lists within lists mainly to represent grids or matrices.
We might also encounter more
irregular nested structures.  We might not know in advance how
deeply the lists will be nested or how long they will be.</p>
<p>How could we sum the integers in a nest of lists like this?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="mi">8</span><span class="p">],</span> <span class="mi">9</span><span class="p">]</span>
</pre></div>
</div>
<p>Python provides an <code class="docutils literal notranslate"><span class="pre">isinstance</span></code> function that we can use to
determine whether a value is a <code class="docutils literal notranslate"><span class="pre">list</span></code>, an <code class="docutils literal notranslate"><span class="pre">int</span></code>, or something else:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">what_is_that</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Print a description of v&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span> 
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2"> is a list!&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2"> is an integer!&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>  
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2"> is neither a list nor an integer&quot;</span><span class="p">)</span>
        
<span class="n">what_is_that</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="mi">8</span><span class="p">],</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">what_is_that</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[1, 2, [3, 4], 5, [6, 7], 8], 9] is a list!
4 is an integer!
</pre></div>
</div>
</div>
</div>
<p>We can use <code class="docutils literal notranslate"><span class="pre">isinstance</span></code> to distinguish between the base case and
recursive case in a function to sum the integers in nested lists
like the example above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sum_atoms</span><span class="p">(</span><span class="n">m</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;Sum the integer elements of nested lists&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">m</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">m</span><span class="p">:</span> 
            <span class="nb">sum</span> <span class="o">+=</span> <span class="n">sum_atoms</span><span class="p">(</span><span class="n">el</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">sum</span>
    <span class="c1"># Neither an int nor a list?  Ignore it. </span>
    <span class="k">return</span> <span class="mi">0</span>
    
<span class="n">s</span> <span class="o">=</span> <span class="n">sum_atoms</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">4</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">sum_atoms</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="mi">8</span><span class="p">],</span> <span class="mi">9</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10
45
</pre></div>
</div>
</div>
</div>
<p>Hierarchical data structures are very common:  For example, the
Document Object Model (DOM) tree representation of a web
page.  A web server transmits HTML web content to a browser as text
with  “tags” like <code class="docutils literal notranslate"><span class="pre">&lt;p&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> describing its hieararchical
structure. The browser
transforms that text into a DOM tree that manifests the
hierarchical structure (e.g., a paragraph (<code class="docutils literal notranslate"><span class="pre">&lt;p&gt;</span></code>) in the text might be
nested within a division (<code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code>), which might be nested within
another division.  If interaction is controlled by JavaScript
functions, those functions act on the DOM tree, not the text.
We will see many more examples of recursion with hierarchical data
structures in later courses, when we have more techniques for
building those data structures.</p>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-06-Binding/06-01-Binding"></span><section class="tex2jax_ignore mathjax_ignore" id="binding-and-scope">
<h2>Binding and scope<a class="headerlink" href="#binding-and-scope" title="Permalink to this headline">#</a></h2>
<p>We touched on variable bindings in local and global scopes in
<a class="reference internal" href="intro.html#document-02-Functions/02-01-Functions"><span class="doc std std-doc">Chapter 2</span></a>.  It is time to both
review that material and take a deeper dive.</p>
<section id="aliasing">
<h3><a class="reference internal" href="intro.html#document-06-Binding/06-02-Alias"><span class="doc std std-doc">Aliasing</span></a><a class="headerlink" href="#aliasing" title="Permalink to this headline">#</a></h3>
<p>We begin with a review of how <em>variables</em> are bound to <em>objects</em>
containing <em>values</em> in <em>name spaces</em>.  This time, we focus especially
on the consequences
of <em>aliasing</em>, when two variables are bound to the same object.
This leads us to make an important distinction between <em>mutable</em> and
<em>immutable</em> objects.</p>
</section>
<section id="scopes">
<h3><a class="reference internal" href="intro.html#document-06-Binding/06-03-Scopes"><span class="doc std std-doc">Scopes</span></a><a class="headerlink" href="#scopes" title="Permalink to this headline">#</a></h3>
<p>In Python (as in most programming
languages), <em>activation records</em> reside as <em>frames</em> on a <em>stack</em>.
Objects containing values, on the other hand, reside in the <em>heap</em>.
Understanding <em>stack allocation</em> and <em>heap allocation</em> is
fundamental to understanding functions in Python.</p>
<p>With this understanding of binding, frames in the stack, and objects
in the heap containing values, we can describe more precisely what
Python does when it encounters a variable name, including “qualified
names” from other modules.</p>
</section>
<section id="tbd">
<h3>TBD<a class="headerlink" href="#tbd" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p>qualified names (imported modules)</p></li>
<li><p>stack and heap (review)</p></li>
</ul>
</section>
<section id="binding-and-recursion">
<h3><a class="reference internal" href="intro.html#document-06-Binding/06-04-Binding-Recursion"><span class="doc std std-doc">Binding and recursion</span></a><a class="headerlink" href="#binding-and-recursion" title="Permalink to this headline">#</a></h3>
<p>Recursive functions follow the same scope rules as any other
functions.  We revisit the palindrome example from the previous
chapter to illustrate how binding rules and stack allocation of
activation
records work together.</p>
</section>
<section id="project">
<h3>Project<a class="headerlink" href="#project" title="Permalink to this headline">#</a></h3>
<p>TBD</p>
</section>
</section>
<span id="document-06-Binding/06-02-Alias"></span><section class="tex2jax_ignore mathjax_ignore" id="aliasing">
<h2>Aliasing<a class="headerlink" href="#aliasing" title="Permalink to this headline">#</a></h2>
<section id="binding-can-create-aliases">
<h3>Binding can create aliases<a class="headerlink" href="#binding-can-create-aliases" title="Permalink to this headline">#</a></h3>
<p>In an earlier chapter we briefly touched on the notion of <em>binding</em> a
variable name to a value.  A <em>namespace</em> in Python is an association
of names with references to objects.  The <em>values</em> of variables are
actually in the objects.  When we assign a value to a variable, e.g.,
<code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">5</span></code>, we are actually creating an association between the name
<code class="docutils literal notranslate"><span class="pre">x</span></code> and an object that contains the value <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="x is bound to an object containing value 5" src="_images/binding-aliasing-x.png" /></p>
<p>When we assign the value of <code class="docutils literal notranslate"><span class="pre">x</span></code> to variable <code class="docutils literal notranslate"><span class="pre">y</span></code> by writing <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">x</span></code>, we
make a copy of
the reference, not a new copy of the object containing the value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="y is bound to the same value object" src="_images/binding-aliasing-xy.png" /></p>
<p>If we bind a new value to <code class="docutils literal notranslate"><span class="pre">x</span></code>, for example by writing <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1</span></code>, it
will be bound to a reference to
an object containing that new value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">6</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="x gets a new value, y is still 5" src="_images/binding-aliasing-xincr.png" /></p>
</section>
<section id="aliasing-mutable-values">
<h3>Aliasing mutable values<a class="headerlink" href="#aliasing-mutable-values" title="Permalink to this headline">#</a></h3>
<p>When <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> referred to the same object containing <code class="docutils literal notranslate"><span class="pre">5</span></code>, we say
they were <em>aliased</em>.  Does aliasing matter?   For <code class="docutils literal notranslate"><span class="pre">int</span></code> values, it
almost never matters.  When we
assigned a new value to <code class="docutils literal notranslate"><span class="pre">x</span></code>, we did not change the value in the
<code class="docutils literal notranslate"><span class="pre">int</span></code> object.  We created a new <code class="docutils literal notranslate"><span class="pre">int</span></code> object to contain the new
value. We say that type <code class="docutils literal notranslate"><span class="pre">int</span></code> is <em>immutable</em>, because we never
change (mutate) the values in objects.   For immutable types, it
almost doesn’t matter that variables are bound to references that
could be aliases.</p>
<p>Aliasing becomes important when we consider <em>mutable</em> types.  For
example, type <code class="docutils literal notranslate"><span class="pre">list</span></code> is mutable:  We can actually change the value
in a <code class="docutils literal notranslate"><span class="pre">list</span></code> object.   Consider:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Now <code class="docutils literal notranslate"><span class="pre">m</span></code> contains a reference to a list containing <code class="docutils literal notranslate"><span class="pre">int</span></code> objects,
which contain values 1, 3, and 5.</p>
<p><img alt="m refers to list, which refer to int objects" src="_images/binding-aliasing-m-before.png" /></p>
<p>Now suppose we change the value of <code class="docutils literal notranslate"><span class="pre">m[1]</span></code>, the second element in the
list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">7</span>
</pre></div>
</div>
</div>
</div>
<p>This will actually modify the <code class="docutils literal notranslate"><span class="pre">list</span></code> object, without changing
the binding of <code class="docutils literal notranslate"><span class="pre">m</span></code> to that list object.</p>
<p><img alt="assignment to m[1] modifies the list" src="_images/binding-aliasing-m-after.png" /></p>
<p>Consider what happens if another variable <code class="docutils literal notranslate"><span class="pre">k</span></code> refers to the same
list, becoming an <em>alias</em> of <code class="docutils literal notranslate"><span class="pre">m</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">k</span> <span class="o">=</span> <span class="n">m</span>
</pre></div>
</div>
</div>
</div>
<p><img alt="assignment to k creates an alias" src="_images/binding-aliasing-km-aliased.png" /></p>
<p>Now if we modify of an element of <code class="docutils literal notranslate"><span class="pre">m</span></code>…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">7</span>
<span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 7, 5]
</pre></div>
</div>
</div>
</div>
<p>… we have also modified the value of any <em>alias</em> of <code class="docutils literal notranslate"><span class="pre">m</span></code>.</p>
<p><img alt="Mutating  also mutated aliases of " src="_images/binding-aliasing-km-modified.png" /></p>
<p>Sometimes this is just what we want. If we mutate an aliased
variable accidentally, though, it can lead to confusing bugs.
We need to distinguish between references to <em>equal</em> values and
references to <em>the same</em> object.   Test your understanding by
explaining the values printed by the following code:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>
<span class="n">n</span> <span class="o">=</span> <span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>
<span class="n">k</span> <span class="o">=</span> <span class="n">m</span>
<span class="n">m</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;m = </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;n = </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;k = </span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>m = [17, 1]
n = [17, 25]
k = [17, 1]
</pre></div>
</div>
</div>
</div>
</section>
<section id="aliasing-for-functions-that-mutate-values">
<h3>Aliasing for functions that mutate values<a class="headerlink" href="#aliasing-for-functions-that-mutate-values" title="Permalink to this headline">#</a></h3>
<p>Sometimes we use aliasing to write functions that modify the values
passed to them.  Consider, for example, a function that swaps
two elements of a list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">swap_elements</span><span class="p">(</span><span class="n">m</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Swap m[i] with m[k].&quot;&quot;&quot;</span>
    <span class="n">tmp</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
    <span class="n">m</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span>
    
<span class="n">march</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="n">swap_elements</span><span class="p">(</span><span class="n">march</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">march</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 3, 2, 4]
</pre></div>
</div>
</div>
</div>
<p>Function <code class="docutils literal notranslate"><span class="pre">swap_elements</span></code> does not return a value (to be precise,
it always returns the value <code class="docutils literal notranslate"><span class="pre">None</span></code>).  Instead of a
useful <em>return value</em>,
it has an <em>effect</em>.  Aliasing of the <em>formal argument</em> <code class="docutils literal notranslate"><span class="pre">m</span></code> to the
<em>actual argument</em> <code class="docutils literal notranslate"><span class="pre">example_list</span></code> allows function <code class="docutils literal notranslate"><span class="pre">swap_elements</span></code> to
have an effect on the actual argument.</p>
<p><img alt="Binding makes formal arguments aliases of actual arguments" src="_images/actual-arg-effect.png" /></p>
<p>A function can have an <em>effect</em> on actual arguments only if those
argument values are <em>mutable</em>.   We can write a function to exchange
elements of a list because type <code class="docutils literal notranslate"><span class="pre">list</span></code> is mutable.  It is not
possible in Python to write a function that exchanges
the values of two <code class="docutils literal notranslate"><span class="pre">int</span></code>
values, because the Python <code class="docutils literal notranslate"><span class="pre">int</span></code> type is immutable.  Consider:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The following swap function DOES NOT WORK</span>
<span class="k">def</span> <span class="nf">swap</span><span class="p">(</span><span class="n">m</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Exchange values of m and k</span>
<span class="sd">    (BROKEN AND UNFIXABLE)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tmp</span> <span class="o">=</span> <span class="n">m</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">k</span>
    <span class="n">k</span> <span class="o">=</span> <span class="n">m</span>
    
<span class="n">a</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">99</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Before swap, a=</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">, b=</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">swap</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;After swap, a=</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">, b=</span><span class="si">{</span><span class="n">b</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before swap, a=10, b=99
After swap, a=10, b=99
</pre></div>
</div>
</div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">swap</span></code> is called, <code class="docutils literal notranslate"><span class="pre">m</span></code> and <code class="docutils literal notranslate"><span class="pre">k</span></code> become aliases of <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p>
<p><img alt=" and  become aliases of  and " src="_images/broken-swap-before.png" /></p>
<p>However, changing <code class="docutils literal notranslate"><span class="pre">m</span></code> and <code class="docutils literal notranslate"><span class="pre">k</span></code> just changes the bindings of those
variables within the function.  It does not alter the values that
<code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> refer to.  The values of <code class="docutils literal notranslate"><span class="pre">a</span></code> and
<code class="docutils literal notranslate"><span class="pre">b</span></code> are unchanged.</p>
<p><img alt="Swapping  and  has no effect on  and " src="_images/broken-swap-after.png" /></p>
</section>
</section>
<span id="document-06-Binding/06-03-Scopes"></span><section class="tex2jax_ignore mathjax_ignore" id="scopes">
<h2>Scopes<a class="headerlink" href="#scopes" title="Permalink to this headline">#</a></h2>
<p>If we have a variable <code class="docutils literal notranslate"><span class="pre">x</span></code>, that variable may
exist in more than one namespace.  Some of these namespaces are
in <em>stack frames</em>, created when a function is called.  Python
searches namespaces in a
particular order, which determines which <code class="docutils literal notranslate"><span class="pre">x</span></code> it finds.</p>
<p>Python always searches in this order:</p>
<ul class="simple">
<li><p>The <em>local</em> scope.  This is the namespace in the top stack frame,
which generally corresponds to the function that is currently
executing.  If a function is not executing (e.g., you are
executing code within a source file that is not part of any
function), then the local scope will be the namespace of the
module (see below).</p></li>
<li><p>The <em>enclosing</em> scope.  Later you may find it useful to define
functions within other functions.  For now the enclosing scope
will be the same as the global scope.</p></li>
<li><p>The <em>global</em> scope.  This is a namespace of the module (source
file) of the code that is currently executing.  It is where our
functions and global variables live.</p></li>
<li><p>The <em>builtin</em> scope.  This is a namespace for the builtin
functions (and some other things) that are always available in
Python.  For example, when you type <code class="docutils literal notranslate"><span class="pre">len(&quot;abc&quot;)</span></code>, Python usually
finds <code class="docutils literal notranslate"><span class="pre">len</span></code> in the <em>builtin</em> scope.</p></li>
</ul>
<p>This is called <em>LEGB resolution order</em>.  To remember it, imagine
that a football player’s dominant leg is
“leg A”, and their other leg is “leg B”.  A skilled football (soccer)
player must practice kicking with leg B.</p>
<p>When a name exists in more than one of these scopes, Python
uses the name it
finds first. We say the other occurrences of the name are <em>shadowed</em>,
i.e., covered up and hidden.  For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Shadow the built-in len function</span>
<span class="k">def</span> <span class="nf">len</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;Don&#39;t do this.  Avoid shadowing built-ins!&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="mi">21</span>
   
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> 
    <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="s2">&quot;Short string&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>42
</pre></div>
</div>
</div>
</div>
<p>Python looks first in the <em>local</em> namespace, but does not find <code class="docutils literal notranslate"><span class="pre">len</span></code>.<br />
There is no enclosing namespace, so it next looks in the <em>global</em>
namespace, and finds function <code class="docutils literal notranslate"><span class="pre">len</span></code> defined in this module.  It does
not look farther, so it uses the <code class="docutils literal notranslate"><span class="pre">len</span></code> function defined in this
module instead of the built-in <code class="docutils literal notranslate"><span class="pre">len</span></code> function.</p>
<p><img alt="Shadowing a built-in function" src="_images/shadow-len.png" /></p>
<p>It can be hard to remember and avoid all the built-in names. Try as
I may to avoid it, I often accidentally shadow a
built-in function with a variable.  This can lead to confusing error
messages.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Oops</span>

<span class="k">def</span> <span class="nf">total_length</span><span class="p">(</span><span class="n">l</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;Total length of all the strings in l&quot;&quot;&quot;</span>
    <span class="n">tot</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span> 
        <span class="n">tot</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> 
    <span class="k">return</span> <span class="n">tot</span>
    
<span class="nb">print</span><span class="p">(</span><span class="n">total_length</span><span class="p">([</span><span class="s2">&quot;this&quot;</span><span class="p">,</span> <span class="s2">&quot;that&quot;</span><span class="p">,</span> <span class="s2">&quot;the other&quot;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [2],</span> in <span class="ni">&lt;cell line: 10&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>         <span class="n">tot</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> 
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="k">return</span> <span class="n">tot</span>
<span class="ne">---&gt; </span><span class="mi">10</span> <span class="nb">print</span><span class="p">(</span><span class="n">total_length</span><span class="p">([</span><span class="s2">&quot;this&quot;</span><span class="p">,</span> <span class="s2">&quot;that&quot;</span><span class="p">,</span> <span class="s2">&quot;the other&quot;</span><span class="p">]))</span>

<span class="nn">Input In [2],</span> in <span class="ni">total_length</span><span class="nt">(l)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">tot</span> <span class="o">=</span> <span class="mi">0</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span> 
<span class="ne">----&gt; </span><span class="mi">7</span>     <span class="n">tot</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> 
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="k">return</span> <span class="n">tot</span>

<span class="ne">TypeError</span>: &#39;int&#39; object is not callable
</pre></div>
</div>
</div>
</div>
<p><img alt="An integer shadowing a built-in function" src="_images/int-shadow-func.png" /></p>
<p>When Python complains that some type is “not callable”, it is a
strong clue that we have accidentally shadowed a function with a
variable.</p>
<section id="which-variables-are-local">
<h3>Which variables are local?<a class="headerlink" href="#which-variables-are-local" title="Permalink to this headline">#</a></h3>
<p>Since a function can use both global variables and local variables,
how can we tell which is which?  If we assign a value to a variable
(bind it) <em>anywhere</em> in a function, Python will create a
variable with that name in the local scope of the function.
If we use the variable but do not bind it within the function,
Python will not create a local variable, so it will find a global
variable instead.  In other words, the local variables of a function
are the variables that are bound within the function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;&lt;&lt;global x&gt;&gt;&quot;</span>
<span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;&lt;&lt;global y&gt;&gt;&quot;</span>

<span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Access both local and global variables&quot;&quot;&quot;</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;Something new&quot;</span>       <span class="c1"># y is bound here! </span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The value of x is &#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&#39; while executing f&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The value of y is &#39;</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&#39; while executing f&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;x is &#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&#39;, y is &#39;</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&#39; before calling f()&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;========  Calling f  ========&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;========  After call to f ====&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;x is &#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&#39;, y is &#39;</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&#39; after calling f&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x is &#39;&lt;&lt;global x&gt;&gt;&#39;, y is &#39;&lt;&lt;global y&gt;&gt;&#39; before calling f()
========  Calling f  ========
The value of x is &#39;&lt;&lt;global x&gt;&gt;&#39; while executing f
The value of y is &#39;Something new&#39; while executing f
========  After call to f ====
x is &#39;&lt;&lt;global x&gt;&gt;&#39;, y is &#39;&lt;&lt;global y&gt;&gt;&#39; after calling f
</pre></div>
</div>
</div>
</div>
<p><img alt="Binding makes a variable local" src="_images/binding-makes-local.png" /></p>
<p>Binding <code class="docutils literal notranslate"><span class="pre">y</span></code> within <code class="docutils literal notranslate"><span class="pre">f</span></code> makes <code class="docutils literal notranslate"><span class="pre">y</span></code> a local variable
<em>throughout</em> f, even before the assignment that binds it.  Notice
what happens if we move the assignment after the print statements:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;&lt;&lt;global x&gt;&gt;&quot;</span>
<span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;&lt;&lt;global y&gt;&gt;&quot;</span>

<span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Access both local and global variables&quot;&quot;&quot;</span>
    <span class="c1"># assignment to y has not been made yet</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The value of x is &#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&#39; while executing f&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The value of y is &#39;</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&#39; while executing f&quot;</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;Something new&quot;</span>       <span class="c1"># y is bound here! </span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;x is &#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&#39;, y is &#39;</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&#39; before calling f()&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;========  Calling f  ========&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;========  After call to f ====&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;x is &#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&#39;, y is &#39;</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&#39; after calling f&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x is &#39;&lt;&lt;global x&gt;&gt;&#39;, y is &#39;&lt;&lt;global y&gt;&gt;&#39; before calling f()
========  Calling f  ========
The value of x is &#39;&lt;&lt;global x&gt;&gt;&#39; while executing f
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">UnboundLocalError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="nn">Input In [4],</span> in <span class="ni">&lt;cell line: 13&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;x is &#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&#39;, y is &#39;</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&#39; before calling f()&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;========  Calling f  ========&quot;</span><span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">13</span> <span class="n">f</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">14</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;========  After call to f ====&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">15</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;x is &#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&#39;, y is &#39;</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&#39; after calling f&quot;</span><span class="p">)</span>

<span class="nn">Input In [4],</span> in <span class="ni">f</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="c1"># assignment to y has not been made yet</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The value of x is &#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&#39; while executing f&quot;</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">8</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The value of y is &#39;</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&#39; while executing f&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;Something new&quot;</span>

<span class="ne">UnboundLocalError</span>: local variable &#39;y&#39; referenced before assignment
</pre></div>
</div>
</div>
</div>
</section>
<section id="formal-arguments-are-local-variables">
<h3>Formal arguments are local variables<a class="headerlink" href="#formal-arguments-are-local-variables" title="Permalink to this headline">#</a></h3>
<p>When we call a function <code class="docutils literal notranslate"><span class="pre">f</span></code>, we bind the values of <em>actual
arguments</em> to the <em>formal arguments</em> of f.  These bindings create
local variables, just as if we had written an assignment statement
for each formal argument.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;&lt;&lt;global x&gt;&gt;&quot;</span>
<span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;&lt;&lt;global y&gt;&gt;&quot;</span>

<span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;x will be bound by a call, and y by assignment, </span>
<span class="sd">    so both x and y will be local variables.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> 
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The value of x is &#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&#39; while g is executing&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The value of y is &#39;</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&#39; while g is executing&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;x is </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, y is </span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2"> before calling g(y)&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;========  Calling g ========&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;========  After call to g ====&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;x is &#39;</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">&#39;, y is &#39;</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&#39; after calling g(y)&quot;</span><span class="p">)</span>    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x is &lt;&lt;global x&gt;&gt;, y is &lt;&lt;global y&gt;&gt; before calling g(y)
========  Calling g ========
The value of x is &#39;&lt;&lt;global y&gt;&gt;&#39; while g is executing
The value of y is &#39;&lt;&lt;global y&gt;&gt;&#39; while g is executing
========  After call to g ====
x is &#39;&lt;&lt;global x&gt;&gt;&#39;, y is &#39;&lt;&lt;global y&gt;&gt;&#39; after calling g(y)
</pre></div>
</div>
</div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">x</span></code> is made local by binding of the actual argument to a local
argument, and <code class="docutils literal notranslate"><span class="pre">y</span></code> is made local by binding in an assignment.<br />
Although both <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are local, they are both aliases of the
global <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<p><img alt="Local variables are made local by any kind of binding" src="_images/arg-binding-makes-local.png" /></p>
</section>
<section id="modifying-an-element-does-not-bind-the-collection">
<h3>Modifying an element does not bind the collection<a class="headerlink" href="#modifying-an-element-does-not-bind-the-collection" title="Permalink to this headline">#</a></h3>
<p>It may seem that setting an element of a list or other collection is
an “assignment to” a variable, but it does not make a new binding to
the variable itself.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">g</span><span class="p">():</span> 
    <span class="sd">&quot;&quot;&quot;This function does NOT bind m; </span>
<span class="sd">    it only modifies an element of m.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">37</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Within g the value of m is now </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Before g() the value of m is </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;After g() the value of m is </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before g() the value of m is [1, 2, 3, 4]
Within g the value of m is now [1, 2, 37, 4]
After g() the value of m is [1, 2, 37, 4]
</pre></div>
</div>
</div>
</div>
<p>This can be confusing, but it makes sense if you think about the way
Python executes <code class="docutils literal notranslate"><span class="pre">m[2]</span> <span class="pre">=</span> <span class="pre">37</span></code>.  First it finds <code class="docutils literal notranslate"><span class="pre">m</span></code>, then it finds
element <code class="docutils literal notranslate"><span class="pre">2</span></code> of <code class="docutils literal notranslate"><span class="pre">m</span></code> and changes that.  <code class="docutils literal notranslate"><span class="pre">m</span></code> is still associated with
the same reference to the same list, unchanged.  The value of <code class="docutils literal notranslate"><span class="pre">m</span></code>
has been modified, but the binding of <code class="docutils literal notranslate"><span class="pre">m</span></code> has not changed.</p>
<p><img alt="Assigning to one element of a collection doesn't make thecollection local" src="_images/mutate-element.png" /></p>
<p>If we did not want to modify the global <code class="docutils literal notranslate"><span class="pre">m</span></code> within <code class="docutils literal notranslate"><span class="pre">g</span></code>, we could
avoid it by making a copy.  Most collection types (<code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">dict</span></code>,
and some others) have a <code class="docutils literal notranslate"><span class="pre">copy</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">g</span><span class="p">():</span> 
    <span class="sd">&quot;&quot;&quot;This function binds v</span>
<span class="sd">    to a copy of the global m.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">37</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Within g the value of v is now </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Within g the value of m is still </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Before g() the value of m is </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;After g() the value of m is </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before g() the value of m is [1, 2, 3, 4]
Within g the value of v is now [1, 2, 37, 4]
Within g the value of m is still [1, 2, 3, 4]
After g() the value of m is [1, 2, 3, 4]
</pre></div>
</div>
</div>
</div>
<p><img alt="Making a copy before mutating a collection" src="_images/mutate-local-copy.png" /></p>
<p>What would happen if we tried to make a copy with <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">m.copy()</span></code>
instead of introducing a new variable <code class="docutils literal notranslate"><span class="pre">v</span></code>?   It will not work!
Recall that binding a variable <em>anywhere</em> in a function makes it a
local variable <em>everywhere</em> in the function.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">g</span><span class="p">():</span> 
    <span class="sd">&quot;&quot;&quot;This function binds attempts to bind</span>
<span class="sd">    local m to a copy of global m, but it fails</span>
<span class="sd">    because every reference to m is to the local m. </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">37</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Within g the value of m is now </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
<span class="n">g</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">UnboundLocalError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="nn">Input In [8],</span> in <span class="ni">&lt;cell line: 12&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span>     <span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">37</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span>     <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Within g the value of m is now </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">12</span> <span class="n">g</span><span class="p">()</span>

<span class="nn">Input In [8],</span> in <span class="ni">g</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="k">def</span> <span class="nf">g</span><span class="p">():</span> 
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="sd">&quot;&quot;&quot;This function binds attempts to bind</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span><span class="sd">     local m to a copy of global m, but it fails</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span><span class="sd">     because every reference to m is to the local m. </span>
<span class="g g-Whitespace">      </span><span class="mi">7</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">----&gt; </span><span class="mi">8</span>     <span class="n">m</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span>     <span class="n">m</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">37</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span>     <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Within g the value of m is now </span><span class="si">{</span><span class="n">m</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="ne">UnboundLocalError</span>: local variable &#39;m&#39; referenced before assignment
</pre></div>
</div>
</div>
</div>
<p>The local
<code class="docutils literal notranslate"><span class="pre">m</span></code> shadows the global <code class="docutils literal notranslate"><span class="pre">m</span></code>.  Thus <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">m.copy()</span></code>
tries to make a copy of the local variable, which will fail because
the local variable hasn’t been given a value yet.</p>
<p><img alt="Can't reuse name for copy into local variable" src="_images/copy-recycled-name.png" /></p>
</section>
<section id="recap">
<h3>Recap<a class="headerlink" href="#recap" title="Permalink to this headline">#</a></h3>
<p>The scope rules in Python are simple, but their consequences can be
confusing.  There are just two rules to remember:</p>
<ul class="simple">
<li><p>Python searches for names in <em>LEGB</em> order, _L_ocal, _E_nclosing,
_G_lobal,  _B_uilt-in.  (So far we have seen just <em>LGM</em>, but
“LEG-B” is easier to pronounce and thus easier to remember.)</p></li>
<li><p>The _L_ocal variables of a function are those that have been
<em>bound</em> through an explicit assignment or through argument passing.</p></li>
</ul>
<p>Everything else follows from these two rules.</p>
</section>
</section>
<span id="document-06-Binding/06-04-Binding-Recursion"></span><section class="tex2jax_ignore mathjax_ignore" id="binding-in-recursive-functions">
<h2>Binding in Recursive Functions<a class="headerlink" href="#binding-in-recursive-functions" title="Permalink to this headline">#</a></h2>
<p>We have seen that Python searches in LEGM order (local, enclosing,
global, and finally built-in scopes), and we know that calling a
function creates a <em>stack frame</em> for its namespace.  The <em>local</em>
scope is the namespace in the top stack frame.</p>
<p>While we have seen each of these facts before, it may be worthwhile
to revisit <a class="reference internal" href="intro.html#final-palindrome"><span class="std std-ref">our <code class="docutils literal notranslate"><span class="pre">palindrome</span></code> function</span></a> to see how
scopes work in a recursive function.  Recall that we created a
wrapper function called <code class="docutils literal notranslate"><span class="pre">palindrome</span></code> to get started and delegate the
main work to <code class="docutils literal notranslate"><span class="pre">_palindrome</span></code> (with a leading underscore <code class="docutils literal notranslate"><span class="pre">_</span></code> to
indicate that it is not the public interface).  We’ll focus on the
actual recursive function <code class="docutils literal notranslate"><span class="pre">_palindrome</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">_palindrome</span><span class="p">(</span><span class="n">word</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">first</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">last</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;True if word[first:last] is a palindrome.</span>
<span class="sd">    first and last must be non-negative integers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Base cases</span>
    <span class="k">if</span> <span class="n">last</span> <span class="o">-</span> <span class="n">first</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="c1"># Recursive case</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">first</span><span class="p">]</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="n">last</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span> <span class="ow">and</span> <span class="n">_palindrome</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">first</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">last</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="n">word</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">]</span>
<span class="n">_palindrome</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">_palindrome</span></code> will be called three times: <code class="docutils literal notranslate"><span class="pre">_palindrome(word,</span> <span class="pre">0,</span> <span class="pre">3)</span></code>,
<code class="docutils literal notranslate"><span class="pre">_palindrome(word,</span> <span class="pre">1,</span> <span class="pre">2)</span></code>, and then <code class="docutils literal notranslate"><span class="pre">_palindrome(word,</span> <span class="pre">2,</span> <span class="pre">1)</span></code>.  The
third call reaches the base case, ending the recursion.  Let’s
consider the stack and scopes at the third call:</p>
<p><img alt="Memory of  with three levels of recursion" src="_images/palindrome-binding.png" /></p>
<p>Each execution of <code class="docutils literal notranslate"><span class="pre">_palindrome</span></code> has its own namespace in a <em>stack
frame</em>.  The <em>top</em> stack frame holds the namespace for the <em>local
scope</em>.  In this namespace,<br />
<code class="docutils literal notranslate"><span class="pre">first</span></code> has value 2 and <code class="docutils literal notranslate"><span class="pre">last</span></code> has value 1, which makes the
condition <code class="docutils literal notranslate"><span class="pre">last</span> <span class="pre">-</span> <span class="pre">first</span> <span class="pre">&lt;</span> <span class="pre">1</span></code> true (the base case of the recursion).<br />
As the same value <code class="docutils literal notranslate"><span class="pre">word</span></code> is passed as arguments through the
recursive calls, the <code class="docutils literal notranslate"><span class="pre">word</span></code> value in each activation of
<code class="docutils literal notranslate"><span class="pre">_palindrome</span></code> is a reference to the same list.  In other words,
although each activation of <code class="docutils literal notranslate"><span class="pre">_palindrome</span></code> has a local variable
<code class="docutils literal notranslate"><span class="pre">word</span></code>, they are all aliases.</p>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-07-Efficiency/07-01-Efficiency"></span><section class="tex2jax_ignore mathjax_ignore" id="efficiency">
<h2>Efficiency<a class="headerlink" href="#efficiency" title="Permalink to this headline">#</a></h2>
<p>We know that some programs run faster than others.  However, the
speed the program runs at depends on many things, including
the computer it is
running on, the other programs that may be running at the same time,
and the supporting software (e.g., the particular version of Python and
the underlying operating system), as well as the input data provided
to the program.</p>
<p>We might be able to measure the performance of a
particular execution of the program on a particular system and
determine that it took 3.5 seconds.   Sometimes we do need that
kind of measurement, but we also need a more
general way to
talk about the efficiency of the <em>program</em> that will tell us something
about its relative speed on other data sets and other computers.
That is what we call <em>algorithmic efficiency</em>.</p>
<section id="it-s-the-curve-that-counts">
<h3>It’s the curve that counts<a class="headerlink" href="#it-s-the-curve-that-counts" title="Permalink to this headline">#</a></h3>
<p>Instead of counting seconds required to execute a program on a
particular data set on a particular computer,
we characterize <em>algorithmic efficiency</em> by a <em>relation</em> between
problem size and execution time.  For example, if the time <em>t</em> required
to execute a program could be described by an equation
<span class="math notranslate nohighlight">\(t = mx + b\)</span>, where <em>m</em> is a constant, <em>x</em> is a measure of the problem
size and <em>b</em> is
a constant (e.g., it might be some fixed start-up time that does not
depend on the input data), we would say that the program’s
performance is <em>linear in x</em>, because <span class="math notranslate nohighlight">\(t = mx + b\)</span> is the equation
of a straight line.</p>
<p>We generally care most about how fast or slow a program is when
given a very large problem to work on.  For very large programs,
constant factors like <em>m</em> and <em>b</em> matter less than the exponent of
the leading term.  For example, if we have one program whose
performance is described by <span class="math notranslate nohighlight">\(t_1 = mx + b\)</span>, and another program whose
performance is described by <span class="math notranslate nohighlight">\(t_2 = nx^2 + c\)</span>, we typically prefer
the former even if <span class="math notranslate nohighlight">\(m \gg n\)</span> and <span class="math notranslate nohighlight">\(b \gg c\)</span>.  <span class="math notranslate nohighlight">\(t_1\)</span> may be larger when
<span class="math notranslate nohighlight">\(x\)</span> is small, but for very large values of <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(t_2\)</span> will certainly
be larger.</p>
<figure class="align-default" id="id1">
<img alt="_images/linear-quadratic.jpg" src="_images/linear-quadratic.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 5 </span><span class="caption-text">A program that requires <span class="math notranslate nohighlight">\(0.5x^2 + 2\)</span> operations for a
problem of size <span class="math notranslate nohighlight">\(x\)</span> (dotted line)
may be faster that a program that requires <span class="math notranslate nohighlight">\(5x + 10\)</span> operations
(solid line)
when <span class="math notranslate nohighlight">\(x\)</span> is small, but the lines cross around <span class="math notranslate nohighlight">\(x = 12\)</span>
and thereafter the quadratic function grows much faster.</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>We seldom care whether our program takes a hundredth of a second or a
tenth of a second on a small problem.  Our focus is on efficiency
with large problem sizes, where performance is more likely to be
an issue.  For example,
consider the following function for determining whether a list
of integers contains any duplicate items:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">has_dups</span><span class="p">(</span><span class="n">l</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> 
  <span class="sd">&quot;&quot;&quot;Is l[i] == l[j] for i != j?&quot;&quot;&quot;</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)):</span>
    <span class="c1"># Only need to compare items after position i</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)):</span>
      <span class="k">if</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">l</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
        <span class="k">return</span> <span class="kc">True</span>
  <span class="k">return</span> <span class="kc">False</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expecting True: </span><span class="si">{</span><span class="n">has_dups</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expecting False: </span><span class="si">{</span><span class="n">has_dups</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Expecting True: True
Expecting False: False
</pre></div>
</div>
</div>
</div>
<p>The function seems simple and clear, and it works well enough for
short lists like the test cases.  But how long could <code class="docutils literal notranslate"><span class="pre">has_dups</span></code> take
on a much longer list, say 10,001 items?  If there are no duplicate
elements, the outer loop will run 10,001 times, which is not bad by
itself.  On the first iteration of the outer loop, the inner loop
will execute 10,000 times. On the second, it will execute 9,999 times,
then 9,998 times for the second time through the outer loop, and so
on.  The total number of times the the comparison <code class="docutils literal notranslate"><span class="pre">l[i]</span> <span class="pre">==</span> <span class="pre">l[j]</span></code>
will be executed is <span class="math notranslate nohighlight">\(1 + 2 + 3 + \ldots + 10,000\)</span>, which is
<span class="math notranslate nohighlight">\(10,000 (10,000 + 1) /2\)</span>, or approximately 50,000,000.  For a list
of <span class="math notranslate nohighlight">\(n\)</span> items, the total execution time is proportional to <span class="math notranslate nohighlight">\(n^2\)</span>;  we
say it is <em>quadratic</em> in list size.</p>
<p>If we graphed the time required by this first version of <code class="docutils literal notranslate"><span class="pre">has_dups</span></code>
on the y axis, with list length as the x axis, we would see the
shape of a parabola.</p>
<p>We can make a version of <code class="docutils literal notranslate"><span class="pre">has_dups</span></code> that works much more
efficiently on long lists.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">has_dups</span><span class="p">(</span><span class="n">l</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> 
  <span class="sd">&quot;&quot;&quot;Is l[i] == l[j] for i != j?</span>
<span class="sd">  This version is much faster for long lists.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">m</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
  <span class="c1"># Any duplicate items are now adjacent</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">m</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]:</span>
      <span class="k">return</span> <span class="kc">True</span>
  <span class="k">return</span> <span class="kc">False</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expecting True: </span><span class="si">{</span><span class="n">has_dups</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expecting False: </span><span class="si">{</span><span class="n">has_dups</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Expecting True: True
Expecting False: False
</pre></div>
</div>
</div>
</div>
<p>The built-in Python function <code class="docutils literal notranslate"><span class="pre">sorted</span></code>
requires time proportional to <span class="math notranslate nohighlight">\(n \log_2 n\)</span> to sort a list with <span class="math notranslate nohighlight">\(n\)</span>
elements. For 10,000 elements, this is approximately
<span class="math notranslate nohighlight">\(10,000 \times 13 \times k\)</span>, where <span class="math notranslate nohighlight">\(k\)</span> is a constant and independent
of list length.  If we graphed the time required by this second
version of <code class="docutils literal notranslate"><span class="pre">has_dups</span></code>, we would see a line that curves slightly
upward, but far less steeply than the parabola describing the first
version.</p>
<p>If <span class="math notranslate nohighlight">\(k\)</span> is fairly large (which depends on details of
how <code class="docutils literal notranslate"><span class="pre">sorted</span></code> is implemented in Python), it is possible that our
first implementation of <code class="docutils literal notranslate"><span class="pre">has_dups</span></code> could be faster for very short
lists like those in our test cases … but who cares when both are
so fast?   Our second implementation will be far faster for a list
with 10,000 elements.  If we try <code class="docutils literal notranslate"><span class="pre">has_dups</span></code> on a list with a million
elements, the second version will be execute reasonably quickly,
while the first will be impractical.  We therefore prefer the second
version.</p>
</section>
<section id="algorithmic-efficiency-classes">
<h3>Algorithmic efficiency classes<a class="headerlink" href="#algorithmic-efficiency-classes" title="Permalink to this headline">#</a></h3>
<p>If we ignore coefficients and constants and focus just on the shapes
of the curves we see if we graph execution time against problem size,
most of our programs and functions will fall into one of several
efficiency
classes. From fastest to slowest (on large problems), these are:</p>
<ul class="simple">
<li><p><em>Constant time</em>:  The execution time of the program does not
depend on the size of the problem.  We seldom write whole programs
that execute in constant time, but a program might include some
functions whose execution time is independent of problem size.<br />
For example, the built-in <code class="docutils literal notranslate"><span class="pre">len</span></code> function n Python does not depend
on the length of the list.</p></li>
<li><p><em>Logarithmic time</em>: The execution time of the function is
proportional to the logarithm of the problem size.  We can seldom
achieve logarithmic time for a whole program, since we must at
least read the data it processes (already that requires linear
time), but sometimes an individual function can have logarithmic
performance.  <a class="reference internal" href="intro.html#document-07-Efficiency/07-02-Binary-Search"><span class="doc std std-doc"><em>Binary search</em></span></a> is an
example of an algorithm that requires logarithmic time.</p></li>
<li><p><em>Linear time</em>:  The execution time of the program or function is
directly proportional to problem size. For example, the built-in
function <code class="docutils literal notranslate"><span class="pre">max</span></code> has performance that is <em>linear</em> in the length
of the list it is given.</p></li>
<li><p><em>Log-linear time</em>: Execution time proportional to the problem size
times the logarithm of problem size. For example, the built-in
Python function <code class="docutils literal notranslate"><span class="pre">sorted</span></code> has log-linear performance.</p></li>
<li><p><em>Quadratic time</em>: Performance is proportional to the square of the
problem size.  A quadratic time algorithm may be perfectly fine
if we know the problem size can never be large, but it is apt to
be unsatisfactory for very large data sets.</p></li>
<li><p><em>Cubic, quartic, … polynomial time</em>: Some functions could
require time proportional to <span class="math notranslate nohighlight">\(n^3\)</span>, <span class="math notranslate nohighlight">\(n^4\)</span>, etc., a polynomial with
a leading exponent larger than 2.  There are some problems for
which this is the best we can do, but these algorithms are
unlikely to be satisfactory for large problems.</p></li>
<li><p><em>Exponential</em>:  If the performance of a
function or program is proportional to a function with problem
size in the exponent, e.g., <span class="math notranslate nohighlight">\(2^n\)</span>, we say it is exponential.
Consider for example an algorithm that must check every <em>subset</em>
of a set of <span class="math notranslate nohighlight">\(n\)</span> elements.  There are <span class="math notranslate nohighlight">\(2^n\)</span> such subsets.<br />
Functions that require time that is exponential in problem size
can be applied only to very small problems, as even <span class="math notranslate nohighlight">\(2^{20}\)</span> is over
a million, and <span class="math notranslate nohighlight">\(2^{32}\)</span> is over 4 billion.</p></li>
</ul>
<p>Note that for a programmer, “exponential” is not just a synonym for
“very big”.  It has a precise meaning.  Computer scientists use the
term <em>hard problem</em> to mean
<em>a problem for which the only possible solutions require exponential
time</em>.   We may cringe when others use the term “exponential” to mean
“really big”, but we are ok with others using the term “hard” in
more informal senses.</p>
</section>
<section id="fast-and-slow-patterns">
<h3>Fast and slow patterns<a class="headerlink" href="#fast-and-slow-patterns" title="Permalink to this headline">#</a></h3>
<p>A <em>constant time</em> algorithm can usually be written without any loops,
or with a loop that does not depend on the input data.</p>
<p>A <em>linear time</em> algorithm usually involves a loop that depends on
problem size, e.g., a loop through the elements of a list.  Each
step within the loop must execute in constant time.</p>
<p>A loop that requires linear time, followed by another loop that
requires linear time, is still linear time.</p>
<p>When we put one loop <em>inside</em> another loop (nested), the complexity
of the combination is the product of the complexities of the
individual loops.  Our first attempt at <code class="docutils literal notranslate"><span class="pre">has_dups</span></code> nested loops that
were each linear in the length of a list, resulting in quadratic
complexity.</p>
<p>Nested loops are not always as obvious as our first <code class="docutils literal notranslate"><span class="pre">has_dups</span></code>. We
might write a function with a single loop through the elements of a
list, and in the body of that loop we might call another function
that also loops through the list.   We do not see <em>syntactic</em>
nesting of one loop inside another, but they are <em>semantically</em> nested.</p>
</section>
<section id="beware-hidden-loops">
<h3>Beware hidden loops<a class="headerlink" href="#beware-hidden-loops" title="Permalink to this headline">#</a></h3>
<p>It is easy to accidentally create <em>semantically</em> nested loops by
using built-in functions that loop over elements of a list.  For
example, here is a third version of <code class="docutils literal notranslate"><span class="pre">has_dups</span></code> that has quadratic
complexity:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">has_dups</span><span class="p">(</span><span class="n">l</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> 
  <span class="sd">&quot;&quot;&quot;Don&#39;t do it this way!&quot;&quot;&quot;</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)):</span>
      <span class="k">if</span> <span class="n">l</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">!=</span> <span class="n">i</span><span class="p">:</span>
          <span class="k">return</span> <span class="kc">True</span>
  <span class="k">return</span> <span class="kc">False</span>
  
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expecting True: </span><span class="si">{</span><span class="n">has_dups</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expecting False: </span><span class="si">{</span><span class="n">has_dups</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Expecting True: True
Expecting False: False
</pre></div>
</div>
</div>
</div>
<p>There is only one visible loop in this version of <code class="docutils literal notranslate"><span class="pre">has_dups</span></code>, so you
might be tempted to think it would execute in linear time.  However,
the <code class="docutils literal notranslate"><span class="pre">index</span></code> method of the <code class="docutils literal notranslate"><span class="pre">list</span></code> type is also a loop through the
elements of the list.  The nested loop may  be out of our sight, but
it is still there, and the result is still quadratic complexity.</p>
<p>Here are some Python built-in functions and methods that are
loops when applied to lists.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">max(l)</span></code>, <code class="docutils literal notranslate"><span class="pre">min(l)</span></code>, <code class="docutils literal notranslate"><span class="pre">sum(l)</span></code>  loop over elements of <code class="docutils literal notranslate"><span class="pre">l</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">l.count(v)</span></code> loops over elements of <code class="docutils literal notranslate"><span class="pre">l</span></code> to count occurrences of <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">l.index(v)</span></code> loops over elements of <code class="docutils literal notranslate"><span class="pre">l</span></code> to find the first
occurrence of <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v</span> <span class="pre">in</span> <span class="pre">l</span></code> loops over elements of <code class="docutils literal notranslate"><span class="pre">l</span></code> searching for <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">l.remove(v)</span></code> loops over the whole list, first searching for value
v and then moving all the remaining items.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sort(l),</span> <span class="pre">l.sorted()</span></code> contain more complex loops that require time
proportional to <span class="math notranslate nohighlight">\(n \lg n\)</span>, where <span class="math notranslate nohighlight">\(n\)</span> is the length of <span class="math notranslate nohighlight">\(l\)</span> and
<span class="math notranslate nohighlight">\(\lg\)</span> means logarithm base 2.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">s[i],</span> <span class="pre">s.pop(i)</span></code> loop over the items after position <code class="docutils literal notranslate"><span class="pre">i</span></code> to
slide them forward.  However, <code class="docutils literal notranslate"><span class="pre">s.pop()</span></code> is a constant time operation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">s.insert(i,</span> <span class="pre">x)</span></code> loops over the items after position <code class="docutils literal notranslate"><span class="pre">i</span></code> to make
room.  However, <code class="docutils literal notranslate"><span class="pre">s.append(x)</span></code> is a constant time operation.</p></li>
</ul>
<p>Dicts support some of the same operations as lists, but <code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">in</span> <span class="pre">d</span></code> is
a constant time operation if <code class="docutils literal notranslate"><span class="pre">d</span></code> is a dict.  <code class="docutils literal notranslate"><span class="pre">max(d)</span></code>, <code class="docutils literal notranslate"><span class="pre">min(d)</span></code>, and
<code class="docutils literal notranslate"><span class="pre">sum(d)</span></code> are loops over elements of <code class="docutils literal notranslate"><span class="pre">d</span></code>, just as if <code class="docutils literal notranslate"><span class="pre">d</span></code> were a list.</p>
</section>
<section id="perspective">
<h3>Perspective<a class="headerlink" href="#perspective" title="Permalink to this headline">#</a></h3>
<p>Most of the code we write is not performance-critical.  Often we can
write simple, readable code that is <em>good enough</em> without thinking
much about it.   Typically we try to write code that is
straightforward, understandable, and not horrible with respect to
efficiency.</p>
<p>But we must be more careful.  Accidentally writing a
function whose execution time is quadratic in the size of the data
it processes can be a logic bomb waiting to go off at an
inconvenient time.  Such a function may appear fine in testing,
because test cases are typically small.  It may even be acceptable
<em>most</em> of the time in production use, but then one day when it
encounters a larger problem and slows an application unacceptably,
it will likely be while the system is under heavy load.</p>
<p>Algorithmic efficiency is one key consideration for performance-critical
systems, but not the only consideration.
Algorithm design focusing on the <em>shape</em> of the curve
is typically followed by <em>performance tuning</em> to squeeze out
additional constant factors.
Halving the time required by some
function is “only” a constant factor, but halving the time required
for a large scientific simulation or halving the hosting expenses of
a large internet-based business is significant.</p>
<p>If you continue with computer science courses, you will dig much
deeper into devising and analyzing efficient functions in data
structures and algorithms courses.  Our treatment so far is informal,
but you should be able to do some basic reasoning and distinguish
between constant time, linear time, and quadratic algorithms on lists.</p>
</section>
<section id="binary-search">
<h3>Binary search<a class="headerlink" href="#binary-search" title="Permalink to this headline">#</a></h3>
<p>We looked at differences between linear time algorithms for lists
and quadratic time algorithms, which typically involve nested loops.
Can we get even more efficient than linear time?  The next section
describes <em>binary search</em>, a way of achieving <em>logarithmic</em>
complexity provided a list is in sorted order.</p>
</section>
</section>
<span id="document-07-Efficiency/07-02-Binary-Search"></span><section class="tex2jax_ignore mathjax_ignore" id="binary-search">
<h2>Binary Search<a class="headerlink" href="#binary-search" title="Permalink to this headline">#</a></h2>
<p>Suppose we wish to determine whether <code class="docutils literal notranslate"><span class="pre">schnoggle</span></code> appears in a list
of 40,000 valid English words.  If the list of words is in a
sequential data file as text, it seems the best we can do is linear
time relative to the length of the word list, because at minimum we
must read each entry from the file.</p>
<p>But suppose that instead of checking just ‘schnoggle’, we wish to
check thousands of combinations of letters as we search for a legal
word in word game like Scrabble or Boggle. It
will be worthwhile to read the file just once and store it in a list.
If we sort the list (just once!), we can thereafter search for each
candidate word very quickly — much more quickly than a linear search.</p>
<section id="a-running-example">
<h3>A running example<a class="headerlink" href="#a-running-example" title="Permalink to this headline">#</a></h3>
<p>While binary search is important mainly for large lists, we will use
a short list of foods to illustrate it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">FOODS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;bean&quot;</span><span class="p">,</span> <span class="s2">&quot;corn&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">,</span> 
  <span class="s2">&quot;egg&quot;</span><span class="p">,</span> <span class="s2">&quot;falafel&quot;</span><span class="p">,</span> <span class="s2">&quot;ginger&quot;</span><span class="p">,</span> <span class="s2">&quot;hummus&quot;</span><span class="p">,</span> <span class="s2">&quot;ice cream&quot;</span><span class="p">,</span> 
  <span class="s2">&quot;jelly&quot;</span><span class="p">,</span> <span class="s2">&quot;kale&quot;</span><span class="p">,</span> <span class="s2">&quot;lasagna&quot;</span><span class="p">,</span> <span class="s2">&quot;milk&quot;</span><span class="p">,</span> <span class="s2">&quot;noodle&quot;</span><span class="p">,</span> <span class="s2">&quot;olive&quot;</span><span class="p">,</span> 
  <span class="s2">&quot;pizza&quot;</span><span class="p">,</span> <span class="s2">&quot;quiche&quot;</span><span class="p">,</span> <span class="s2">&quot;ramen&quot;</span><span class="p">,</span> <span class="s2">&quot;spinach&quot;</span><span class="p">,</span> <span class="s2">&quot;tiramisu&quot;</span><span class="p">,</span> 
  <span class="s2">&quot;udon&quot;</span><span class="p">,</span> <span class="s2">&quot;vindaloo&quot;</span><span class="p">,</span> <span class="s2">&quot;watermelon&quot;</span><span class="p">,</span> <span class="s2">&quot;xôi&quot;</span><span class="p">,</span> <span class="s2">&quot;yogurt&quot;</span><span class="p">,</span> <span class="s2">&quot;ziti&quot;</span> <span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>The list is sorted, which for these words corresponds to
alphabetical order.  (Alphabetical order and sorted order differ
when we mix upper and lower case and characters outside the
English alphabet.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">is_ordered</span><span class="p">(</span><span class="n">l</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> 
  <span class="sd">&quot;&quot;&quot;True if the list is in sorted order&quot;&quot;&quot;</span>
  <span class="n">prior</span> <span class="o">=</span> <span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
  <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">l</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span> 
      <span class="k">if</span> <span class="n">prior</span> <span class="o">&lt;</span> <span class="n">word</span><span class="p">:</span> 
          <span class="n">prior</span> <span class="o">=</span> <span class="n">word</span>
      <span class="k">else</span><span class="p">:</span>
          <span class="k">return</span> <span class="kc">False</span>
  <span class="c1"># Checked every pair, they were all in order</span>
  <span class="k">return</span> <span class="kc">True</span>
  
<span class="n">is_ordered</span><span class="p">(</span><span class="n">FOODS</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>The simplest way to determine whether a string is an element of
FOODS is with a linear search:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span>  <span class="nf">linear_search</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">lst</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;Returns True iff there is an element of lst equal to s.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span> 
        <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="n">el</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
    
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expecting False: </span><span class="si">{</span><span class="n">linear_search</span><span class="p">(</span><span class="s1">&#39;kabob&#39;</span><span class="p">,</span> <span class="n">FOODS</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expecting True: </span><span class="si">{</span><span class="n">linear_search</span><span class="p">(</span><span class="s1">&#39;kale&#39;</span><span class="p">,</span> <span class="n">FOODS</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Expecting False: False
Expecting True: True
</pre></div>
</div>
</div>
</div>
<p>We can do much better.</p>
</section>
<section id="divide-and-conquer">
<h3>Divide and conquer<a class="headerlink" href="#divide-and-conquer" title="Permalink to this headline">#</a></h3>
<p>Suppose we are looking for <code class="docutils literal notranslate"><span class="pre">'kale'</span></code> in the ordered list of foods.
Suppose we begin by checking roughly in the middle of the list, at
position 12.</p>
<p><img alt="Searching from apple to ziti" src="_images/bsearch-kale-apple-ziti.png" /></p>
<p>We would find ‘milk’.  We would note <code class="docutils literal notranslate"><span class="pre">'milk'</span> <span class="pre">&gt;</span> <span class="pre">'kale'</span></code>,
and since the list is in order, we know that all of the items from
position 12 to the end of the list are also greater than ‘kale’.  We
can eliminate all of them, and continue searching only elements 0..11.</p>
<p><img alt="Searching from apple to lasagnna" src="_images/bsearch-kale-apple-lasagna.png" /></p>
<p>Checking again around the middle, we would find ‘falafel’.  Since
‘falafel’ &lt; ‘kale’, we can eliminate all the elements from ‘apple’
to ‘falafel’.</p>
<p><img alt="Searching from ginger to lasagna" src="_images/bsearch-kale-ginger-lasagna.png" /></p>
<p>Next we probe ‘ice cream’, and since ‘i’ &lt; ‘k’ we eliminate the
range from ‘ginger’ through ‘ice cream’.</p>
<p><img alt="Searching from jelly to lasagna" src="_images/bsearch-kale-jelly-lasagna.png" /></p>
<p>Probing between ‘jelly’ and ‘lasagna’, we finally find ‘kale’.</p>
<p>Had we been searching instead for ‘kabobs’, we would have eliminated
‘kale’ and ‘lasagna’ and checked ‘jelly’.</p>
<p><img alt="Searching from jelly to jelly" src="_images/bsearch-kabobs-jelly-jelly.png" /></p>
<p>Since ‘jelly’ &lt; ‘kabobs’,
we would conclude that ‘kabobs’ must appear after ‘jelly’, i.e., in
the range of positions from 10 to 9.  That is an empty range, so
we would conclude there are
no kabobs in our list of foods.</p>
<p><img alt="Searching from kale to jelly" src="_images/bsearch-kabob-jelly-kale.png" /></p>
<p>That is the tactic that binary search uses.  Initially we
search the whole list, but at each step we either find the value we
are searching for, or we eliminate half of the remaining range. If
the whole range is eliminated (e.g., a range from 10..9),
then we conclude that value is not in the list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">binary_search</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">lst</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span> 
    <span class="sd">&quot;&quot;&quot;Returns True iff there is an element of lst equal to s,</span>
<span class="sd">    provided lst is ordered.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Initially we search the whole list</span>
    <span class="n">low</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">high</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">low</span> <span class="o">&lt;=</span> <span class="n">high</span><span class="p">:</span> 
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Searching in range </span><span class="si">{</span><span class="n">low</span><span class="si">}</span><span class="s2">..</span><span class="si">{</span><span class="n">high</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">low</span> <span class="o">+</span> <span class="n">high</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">probe</span> <span class="o">=</span> <span class="n">lst</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Probing &#39;</span><span class="si">{</span><span class="n">probe</span><span class="si">}</span><span class="s2">&#39; at position </span><span class="si">{</span><span class="n">mid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="n">probe</span><span class="p">:</span> 
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">probe</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">:</span>
            <span class="c1"># Eliminate lower half of range</span>
            <span class="n">low</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span> 
            <span class="c1"># Eliminate higher half of range</span>
            <span class="n">high</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
            
    <span class="c1"># When low &gt; high, we have eliminated the whole range </span>
    <span class="k">return</span> <span class="kc">False</span>
  
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Checking for kale&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expecting True: </span><span class="si">{</span><span class="n">binary_search</span><span class="p">(</span><span class="s1">&#39;kale&#39;</span><span class="p">,</span> <span class="n">FOODS</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Checking for kabobs&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expecting False: </span><span class="si">{</span><span class="n">binary_search</span><span class="p">(</span><span class="s1">&#39;kabobs&#39;</span><span class="p">,</span> <span class="n">FOODS</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Checking for almond&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expecting False: </span><span class="si">{</span><span class="n">binary_search</span><span class="p">(</span><span class="s1">&#39;almond&#39;</span><span class="p">,</span> <span class="n">FOODS</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Checking for kale
Searching in range 0..25
Probing &#39;milk&#39; at position 12
Searching in range 0..11
Probing &#39;falafel&#39; at position 5
Searching in range 6..11
Probing &#39;ice cream&#39; at position 8
Searching in range 9..11
Probing &#39;kale&#39; at position 10
Expecting True: True


Checking for kabobs
Searching in range 0..25
Probing &#39;milk&#39; at position 12
Searching in range 0..11
Probing &#39;falafel&#39; at position 5
Searching in range 6..11
Probing &#39;ice cream&#39; at position 8
Searching in range 9..11
Probing &#39;kale&#39; at position 10
Searching in range 9..9
Probing &#39;jelly&#39; at position 9
Expecting False: False


Checking for almond
Searching in range 0..25
Probing &#39;milk&#39; at position 12
Searching in range 0..11
Probing &#39;falafel&#39; at position 5
Searching in range 0..4
Probing &#39;corn&#39; at position 2
Searching in range 0..1
Probing &#39;apple&#39; at position 0
Expecting False: False
</pre></div>
</div>
</div>
</div>
</section>
<section id="how-fast-is-it">
<h3>How fast is it?<a class="headerlink" href="#how-fast-is-it" title="Permalink to this headline">#</a></h3>
<p>Since binary search eliminates half of the search range on each
iteration of the loop, the total time it requires for a search of
<span class="math notranslate nohighlight">\(n\)</span> items is proportional to <span class="math notranslate nohighlight">\(\lg n\)</span>, the logarithm base 2 of <span class="math notranslate nohighlight">\(n\)</span>.<br />
Here are some example values of <span class="math notranslate nohighlight">\(\lg n\)</span>:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><span class="math notranslate nohighlight">\(n\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(\lg n\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>256</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-odd"><td><p>1024</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-even"><td><p>4096</p></td>
<td><p>12</p></td>
</tr>
<tr class="row-odd"><td><p>16,777,216</p></td>
<td><p>20</p></td>
</tr>
<tr class="row-even"><td><p>4,294,967,296</p></td>
<td><p>32</p></td>
</tr>
<tr class="row-odd"><td><p>18,446,744,073,709,551,616</p></td>
<td><p>64</p></td>
</tr>
</tbody>
</table>
<p>The attraction of binary search over linear search
for very large lists should be apparent.</p>
<p>The main limitation of binary search is that the list must already be
ordered (sorted).  If you are going to search a list just once, it
does not make sense to sort it (which takes somewhat longer than a
linear search) just to prepare it for a binary search.  It can make
sense if you can sort the data once in preparation for searching it
many times.</p>
</section>
<section id="variations">
<h3>Variations<a class="headerlink" href="#variations" title="Permalink to this headline">#</a></h3>
<p>Binary search is a fundamental technique that appears in many
applications, with several variations.  We might search a list of
(key, value) pairs to find keys, returning values, or keys and
values might be stored in parallel arrays.</p>
<p>If you continue with
computer science courses through
intermediate data structures (e.g., CS 313 at U. Oregon), you will learn to
construct self-balancing binary search trees, which are closely
related to binary search.  Database systems, which are ubiquitous in
data processing,  also use self-balancing
trees.</p>
<p>In our
<a class="reference external" href="https://github.com/UO-CS210/06-Boggle">Boggle project</a>,
we use a variation that can return a third value, in addition to
“found” or “not found”.</p>
</section>
</section>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "UO-CS-OER/CS210-text",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <p aria-level="2" class="caption" role="heading"><span class="caption-text">01 Getting a Start</span></p>
<ul class="visible nav section-nav flex-column">
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-01-Intro/01-01-Prospectus">A Course in Computational Thinking</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-01-Intro/01-02-Install">Installing Python and IDLE</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-01-Intro/01-03-Kickstart">Python Programming Kickstart</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">02 Writing Functions</span></p>
<ul class="nav section-nav flex-column">
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-02-Functions/02-01-Functions">Designing and Building Functions in Python</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-02-Functions/02-02-Scope">Binding:  Functions and Scope</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-02-Functions/02-03-Hygiene">Function Hygiene in Python</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-02-Functions/02-04-Terms">Review of terms</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">03 Collections and Loops</span></p>
<ul class="nav section-nav flex-column">
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-03-Collections-Loops/03-01-Collections">Collections and Loops</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">04 More Loops and Collections</span></p>
<ul class="nav section-nav flex-column">
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-04-More-Loops/04-01-More-Loops">Loops and more loops</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-04-More-Loops/04-02-Parallel-Lists">Parallel Lists</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-04-More-Loops/04-03-Indefinite-Loops">Indefinite loops</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-04-More-Loops/04-04-Successive-Approximation">Successive approximation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">05 Recursion</span></p>
<ul class="nav section-nav flex-column">
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-05-Recursion/05-01-Recursion">Recursive Functions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">06 Binding and Scope</span></p>
<ul class="nav section-nav flex-column">
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-06-Binding/06-01-Binding">Binding and scope</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-06-Binding/06-02-Alias">Aliasing</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-06-Binding/06-03-Scopes">Scopes</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-06-Binding/06-04-Binding-Recursion">Binding in Recursive Functions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">07 Efficiency</span></p>
<ul class="nav section-nav flex-column">
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-07-Efficiency/07-01-Efficiency">Efficiency</a></li>
<li class="toctree-l1 nav-item toc-entry"><a class="reference internal nav-link" href="intro.html#document-07-Efficiency/07-02-Binary-Search">Binary Search</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Michal Young, Boyana Norris, and Ram Durairajan
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022-2023 University of Oregon.  Creative Commons Share-Alike Attribution license.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>